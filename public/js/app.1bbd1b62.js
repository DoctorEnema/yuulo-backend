(function(e){function t(t){for(var a,o,i=t[0],c=t[1],d=t[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,d||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},2917:function(e,t,r){},"3c61":function(e,t,r){},"3e55":function(e,t,r){e.exports=r.p+"img/yuumi-sleep.76e7ca87.png"},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("main-header"),r("router-view")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"main-header"},[r("div",{staticClass:"header-left"},[r("router-link",{staticClass:"to-home",attrs:{to:"/"}}),r("button",{staticClass:"to-boards",on:{click:e.toggleMenu}},[e._v(" Boards")]),r("div",{staticClass:"search"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"search-bar",attrs:{type:"search",placeholder:"Jump to..."},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),r("span",{staticClass:"search-glass"})])],1),e._m(0),r("div",{staticClass:"header-right"},[r("button",{staticClass:"to-create-board"}),r("button",{staticClass:"to-info"}),r("button",{staticClass:"to-notifications",class:e.isNewNotifications,on:{click:function(t){e.toggleNotifModal(),e.markRead()}}}),r("button",{staticClass:"header-user"},[e.loggedinUser?e.loggedinUser.imgUrl?r("img",{attrs:{src:e.loggedinUser.imgUrl}}):e.loggedinUser.fullname?r("div",{staticClass:"to-user"},[e._v(" "+e._s(e.loggedinUser.fullname.charAt(0))+" ")]):e._e():r("div",[e._v("?")])])])]),e.isNotifOpen?r("notifications",{attrs:{isNotifOpen:e.isNotifOpen},on:{toggleNotifModal:e.toggleNotifModal,clearNotifications:e.clearNotifications}}):e._e(),e.isBoardMenu?r("board-menu",{on:{selectBoard:e.selectBoard,toggleMenu:e.toggleMenu}}):e._e()],1)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo"},[r("div",{staticClass:"yuumi-header"}),r("h2",[e._v("Yuulo")])])}],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"board-menu"},[r("div",{staticClass:"board-menu-header"},[r("input",{attrs:{type:"text",placeholder:"Find boards by name..."}}),r("button",{on:{click:e.toggleMenu}})]),r("div",{staticClass:"starred-boards"},[e._v("Starred Boards")]),e.isCreate?r("add-board",{on:{createBoard:e.createBoard,toggleCreateBoard:e.toggleCreateBoard}}):e._e(),r("div",{staticClass:"board-menu-content"},e._l(e.boards,(function(t){return r("div",{key:t._id,on:{click:function(r){return e.selectBoard(t._id)}}},[t.style?r("button",{staticClass:"board-bar",style:{backgroundImage:"url("+t.style.backgroundImg+")"}},[r("section",{staticClass:"diffuser"},[e._v(e._s(t.title))]),t.style.backgroundImg?r("img",{attrs:{src:t.style.backgroundImg}}):r("div",{staticClass:"board-bar-color",style:{backgroundColor:t.style.backgroundColor}}),"60f42b03d2f67fa6bfa0f528"!==t._id?r("button",{staticClass:"board-remove",on:{click:function(r){return r.stopPropagation(),e.removeBoard(t._id)}}}):e._e()]):e._e()])})),0),r("a",{attrs:{href:"#"},on:{click:e.toggleCreateBoard}},[e._v("Create new board...")])],1)},d=[],l=r("1da1"),u=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"add-board-container",on:{click:e.toggleCreateBoard}}),r("div",{staticClass:"add-board"},[r("div",{staticClass:"create-board-header",style:{backgroundImage:"url("+e.imgUrl+")"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",placeholder:"Add board title"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),r("button",{on:{click:e.toggleCreateBoard}})]),r("div",{staticClass:"add-board-covers"},e._l(e.covers,(function(t){return r("button",{key:t.id,on:{click:function(r){e.imgUrl=t.imgUrl}}},[r("img",{attrs:{src:t.imgUrl}})])})),0),r("button",{staticClass:"create-board-btn",class:{"disabled-btn":!e.title},on:{click:e.createBoard}},[e._v(" Create board ")])])])}),p=[],m={data:function(){return{title:"",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625997002/samples/landscapes/beach-boat.jpg",covers:[{id:"c101",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625997002/samples/landscapes/beach-boat.jpg"},{id:"c102",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625997005/samples/landscapes/nature-mountains.jpg"},{id:"c103",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625997001/samples/landscapes/architecture-signs.jpg"},{id:"c104",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625996999/samples/landscapes/girl-urban-view.jpg"},{id:"c105",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1626442129/download-3_o4vbyr.jpg"},{id:"c106",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1626442129/download-4_enj2yk.jpg"}]}},computed:{selectedBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard))}},methods:{toggleCreateBoard:function(){this.$emit("toggleCreateBoard")},createBoard:function(){this.title&&(this.$emit("createBoard",this.title,this.imgUrl),this.$emit("toggleCreateBoard"))}}},h=m,f=r("2877"),v=Object(f["a"])(h,u,p,!1,null,null,null),g=v.exports,b={data:function(){return{isCoverModal:!1,isActivityModal:!1,isCreate:!1}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"loadBoards"});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log("cannot load boards",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},components:{addBoard:g},computed:{boards:function(){return this.$store.getters.boards},selectedBoard:function(){return this.$store.getters.selectedBoard},loggedInUser:function(){return this.$store.getters.loggedinUser},boardIdParams:function(){return this.$route.params.boardId}},methods:{toggleMenu:function(){this.$emit("toggleMenu")},coverModal:function(){this.isCoverModal=!this.isCoverModal,this.isActivityModal=!this.isActivityModal},boardCoverImage:function(e){this.$emit("boardCoverImage",e)},boardCoverColor:function(e){this.$emit("boardCoverColor",e)},toggleCreateBoard:function(){this.isCreate=!this.isCreate},selectBoard:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e!==(null===(a=t.selectedBoard)||void 0===a?void 0:a._id)){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,t.$store.dispatch({type:"loadBoard",boardId:e});case 4:r.sent,t.$emit("selectBoard",e);case 6:case"end":return r.stop()}}),r)})))()},removeBoard:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("60f42b03d2f67fa6bfa0f528"!==e){r.next=2;break}return r.abrupt("return");case 2:return e===t.boardIdParams&&t.$router.push("/"),r.next=5,t.$store.dispatch({type:"removeBoards",boardId:e});case 5:return r.next=7,t.$store.dispatch({type:"loadBoards"});case 7:case"end":return r.stop()}}),r)})))()},createBoard:function(e,t){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={title:e,createdAt:Date.now(),createdBy:r.loggedInUser,style:{backgroundImg:t},covers:[{id:"c101",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625997002/samples/landscapes/beach-boat.jpg"},{id:"c102",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625997005/samples/landscapes/nature-mountains.jpg"},{id:"c103",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625997001/samples/landscapes/architecture-signs.jpg"},{id:"c104",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1625996999/samples/landscapes/girl-urban-view.jpg"},{id:"c105",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1626442129/download-3_o4vbyr.jpg"},{id:"c106",imgUrl:"https://res.cloudinary.com/davidyan7/image/upload/v1626442129/download-4_enj2yk.jpg"}],labels:[{id:100,name:"done",color:"#61bd4f",isPicked:!1},{id:101,name:"patrial",color:"#ff9f1a",isPicked:!1},{id:102,name:"todo",color:"#eb5a46",isPicked:!1},{id:103,name:null,color:"#c377e0",isPicked:!1},{id:104,name:null,color:"#0079bf",isPicked:!1},{id:105,name:null,color:"#00c2e0",isPicked:!1},{id:"7j511",name:null,color:"#f2d600",isPicked:!0}],members:[r.loggedInUser],groups:[],activities:[]},a.next=3,r.$store.dispatch({type:"addBoard",board:n});case 3:s=a.sent,r.$router.push("/board/"+s),r.$store.dispatch({type:"loadBoards"}),r.$store.dispatch({type:"loadBoard",boardId:s});case 7:case"end":return a.stop()}}),a)})))()}}},C=b,y=Object(f["a"])(C,c,d,!1,null,null,null),k=y.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"notifications"},[e.loggedinUser?r("section",[r("header",{staticClass:"add-card-header"},[r("h4",[e._v("Notifications")]),r("button",{staticClass:"close-notifications",on:{click:e.toggleNotifModal}})]),r("hr"),e.loggedinUser.notifications.length?r("section",{staticClass:"activities"},[r("button",{on:{click:e.clearNotifications}},[e._v("Clear")]),e._l(e.loggedinUser.notifications,(function(t,a){return r("div",{key:a},[r("div",{staticClass:"activity"},[r("div",[t.byMember.imgUrl?r("img",{attrs:{src:t.byMember.imgUrl}}):e._e()]),r("span",{staticClass:"member-name"},[e._v(e._s(t.byMember.fullname))]),r("span",[r("span"),e._v(" "+e._s(t.txt))]),t?r("show-time",{staticClass:"activity-time",attrs:{time:t.creatAt}}):e._e()],1)])}))],2):r("section",{staticClass:"yuumi-section"},[e._m(0)])]):r("section",[e._v("Sign in to see notifications")])])},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"yuumi-sleep"},[a("img",{attrs:{src:r("3e55")}}),a("div",{staticClass:"cutter"}),a("h4",[e._v("No notifications to show")])])}],x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e._v(" "+e._s(e.showTime)+" ")])},j=[],M=(r("a9e3"),r("99af"),r("4d90"),{props:{time:Number},computed:{showTime:function(){var e=this.time,t=Date.now(),r=t-e,a="".concat((new Date(e).getDate()+"").padStart(2,"0"),"/").concat((new Date(e).getMonth()+1+"").padStart(2,"0"),"/").concat(new Date(e).getFullYear()+""," ").concat((new Date(e).getHours()+"").padStart(2,"0"),":").concat((new Date(e).getMinutes()+"").padStart(2,"0"));return r<1e4?"just now":r<6e4?"a few seconds ago":r<36e5?new Date(r).getMinutes()+" minutes ago":r>36e5&&r<864e5?new Date(r).getHours()+" hours ago":a}}}),$=M,O=Object(f["a"])($,x,j,!1,null,null,null),U=O.exports,B={components:{showTime:U},props:{isNotifOpen:Boolean},data:function(){return{isActive:!1,activity:""}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}},methods:{clearNotifications:function(){this.$emit("clearNotifications",this.loggedinUser._id)},toggleNotifModal:function(){this.$emit("toggleNotifModal")}}},I=B,T=Object(f["a"])(I,_,w,!1,null,null,null),R=T.exports,L={components:{boardMenu:k,notifications:R},data:function(){return{search:"",isBoardMenu:!1,currBoard:"",isNotifOpen:!1}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},isNewNotifications:function(){if(!this.loggedinUser||!this.loggedinUser.notifications)return!1;var e=!1;return this.isNotifOpen?e:(e=this.loggedinUser.notifications.some((function(e){return!e.isRead})),{active:e})}},methods:{toggleMenu:function(){this.isBoardMenu=!this.isBoardMenu},selectBoard:function(e){this.currBoard=e,this.isBoardMenu=!this.isBoardMenu,this.$router.push("/board/"+e)},toggleNotifModal:function(){this.isNotifOpen=!this.isNotifOpen},clearNotifications:function(e){this.$store.dispatch({type:"clearNotifications",userId:e})},markRead:function(){this.loggedinUser&&this.isNotifOpen&&this.$store.dispatch({type:"markRead",userId:this.loggedinUser._id})}}},P=L,D=Object(f["a"])(P,o,i,!1,null,null,null),A=D.exports,E={components:{mainHeader:A}},S=E,N=Object(f["a"])(S,n,s,!1,null,null,null),J=N.exports,X=r("5c96"),G=r.n(X),z=r("b2d6"),F=r.n(z),Y=(r("0fae"),r("9483"));Object(Y["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var H=r("8c4f"),Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"home"},[r("header",{staticClass:"home-header"},[e._m(0),e.loggedinUser?r("div",{staticClass:"home-header-user"},[r("h3",[e._v("Hello, "+e._s(e.loggedinUser.fullname))]),r("button",{on:{click:e.logout}},[e._v("Logout")])]):r("div",{staticClass:"home-header-btns"},[r("button",{on:{click:e.loginPage}},[e._v("Log in")]),r("button",{on:{click:e.signupPage}},[e._v("Sign up")])])]),r("div",{staticClass:"background"}),e.userOrModal?r("div",{staticClass:"yuumi-container"},[r("yuumi")],1):e._e(),e.userOrModal?r("div",{staticClass:"hero"},[r("h2",[e._v("Yuulo helps you stay organized and be productive.")]),r("h3",[e._v('"You and me? We got this!"')]),r("button",{on:{click:e.loginAsGuest}},[e._v("Try it as a guest")])]):e._e(),e.displayModal?r("login-user",{attrs:{isSignup:e.isSignup},on:{closeModal:function(t){e.displayModal=!1}}}):e._e(),e.loggedinUser?r("div",{staticClass:"home-boards"},[r("h2",[e._v("Starred boards")]),r("div",{staticClass:"board-display"},e._l(e.boards,(function(t){return r("button",{key:t._id,staticClass:"board-btn",on:{click:function(r){return e.selectBoard(t._id)}}},[r("h2",[e._v(e._s(t.title))]),t.style.backgroundImg?r("img",{attrs:{src:t.style.backgroundImg}}):r("div",{style:{backgroundColor:t.style.backgroundColor}})])})),0),r("h2",[e._v("All boards")])]):e._e(),e.loggedinUser?r("div",{staticClass:"yuumi-container"},[r("yuumi")],1):e._e()],1)},W=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-logo"},[a("img",{attrs:{src:r("cc8d")}}),a("h1",[e._v("Yuulo")])])}],q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"login"},[e.loggedInUser?r("div",[e._v(" Hello "+e._s(e.loggedInUser.fullname)+" "),r("button",{on:{click:e.logout}},[e._v("Logout")])]):r("div",[r("button",{staticClass:"close-modal",on:{click:e.closeModal}},[e._v("X")]),e.isSignup?r("form",{staticClass:"signup-form",on:{submit:function(t){return t.preventDefault(),e.signup.apply(null,arguments)}}},[r("h3",[e._v("Sign up for your account")]),r("div",{staticClass:"signup-inputs"},[r("label",[e._v(" Name: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.fullname,expression:"signupCred.fullname"}],attrs:{type:"text",placeholder:"Enter full name"},domProps:{value:e.signupCred.fullname},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"fullname",t.target.value)}}})]),r("label",[e._v(" Username: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",placeholder:"Enter username"},domProps:{value:e.signupCred.username},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"username",t.target.value)}}})]),r("label",[e._v(" Password: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.password,expression:"signupCred.password"}],attrs:{type:"password",placeholder:"Enter password"},domProps:{value:e.signupCred.password},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"password",t.target.value)}}})])]),r("button",[e._v("Signup")])]):r("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[r("h3",[e._v("Log in to your account")]),r("div",{staticClass:"login-inputs"},[r("label",[e._v(" Username: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.username,expression:"credentials.username"}],attrs:{type:"text",placeholder:"Enter username"},domProps:{value:e.credentials.username},on:{input:function(t){t.target.composing||e.$set(e.credentials,"username",t.target.value)}}})]),r("label",[e._v(" Password: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],attrs:{type:"password",placeholder:"Enter password"},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}})])]),r("button",[e._v("Login")])])])])},K=[],Q=(r("2909"),r("4de4"),r("159b"),r("8055")),V=r.n(Q),ee=r("bc3a"),te=r.n(ee),re="/api/",ae=te.a.create({withCredentials:!0}),ne={get:function(e,t){return se(e,"GET",t)},post:function(e,t){return se(e,"POST",t)},put:function(e,t){return se(e,"PUT",t)},delete:function(e,t){return se(e,"DELETE",t)}};function se(e){return oe.apply(this,arguments)}function oe(){return oe=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,ae({url:"".concat(re).concat(t),method:r,data:a,params:"GET"===r?a:null});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had Issues ".concat(r,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(a)),console.dir(e.t0),e.t0.response&&e.t0.response.status,e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),oe.apply(this,arguments)}var ie="",ce=de();function de(){var e=null,t={setup:function(){return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=V()(ie);case 1:case"end":return t.stop()}}),t)})))()},on:function(t,r){e.on(t,r)},off:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(r?e.off(t,r):e.removeAllListeners(t))},emit:function(t,r){e.emit(t,r)},terminate:function(){e=null}};return t}window.socketService=ce,ce.setup();var le={saveToStorage:ue,loadFromStorage:pe,makeId:me};function ue(e,t){localStorage.setItem(e,JSON.stringify(t)||null)}function pe(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}function me(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}r("d3b7"),r("7db0"),r("c740"),r("a434");var he={login:fe,logout:Ce,signup:ge,getUsers:ke,getById:_e,remove:we,update:xe,getLoggedinUser:$e,updateUserNotifications:Oe,clearNotifications:Be,markRead:Te};function fe(e){return ve.apply(this,arguments)}function ve(){return ve=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.post("auth/login",t);case 2:if(r=e.sent,!r){e.next=5;break}return e.abrupt("return",Me(r));case 5:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function ge(e){return be.apply(this,arguments)}function be(){return be=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("userCred",t),e.next=3,ne.post("auth/signup",t);case 3:return r=e.sent,e.abrupt("return",Me(r));case 5:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function Ce(){return ye.apply(this,arguments)}function ye(){return ye=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,ne.post("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function ke(){return ne.get("user")}function _e(e){return ne.get("user/".concat(e))}function we(e){return ne.delete("user/".concat(e))}function xe(e){return je.apply(this,arguments)}function je(){return je=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.put("user/".concat(t._id),t);case 2:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function Me(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function $e(){return JSON.parse(sessionStorage.getItem("loggedinUser")||"null")}function Oe(e){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(t.userId);case 3:return r=e.sent,r.notifications||(r.notifications=[]),r.notifications.unshift(t.fullActivity),e.next=8,xe(r);case 8:return a=e.sent,e.abrupt("return",a);case 12:e.prev=12,e.t0=e["catch"](0),console.log("cannot update notification",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ue.apply(this,arguments)}function Be(e){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(t);case 3:return r=e.sent,console.log(r),r.notifications=[],e.next=8,xe(r);case 8:return a=e.sent,e.abrupt("return",a);case 12:e.prev=12,e.t0=e["catch"](0),console.log("cannot update notification",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ie.apply(this,arguments)}function Te(e){return Re.apply(this,arguments)}function Re(){return Re=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(t);case 3:return r=e.sent,r.notifications.forEach((function(e){return e.isRead=!0})),console.log("notifications",r.notifications),e.next=8,xe(r);case 8:return a=e.sent,e.abrupt("return",a);case 12:e.prev=12,e.t0=e["catch"](0),console.log("cannot update notification",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Re.apply(this,arguments)}var Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"yuumi"},[r("svg",{attrs:{id:"e4Xr2tP63Cp1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 194.600000 267","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision"}},[r("g",{attrs:{id:"e4Xr2tP63Cp2",transform:"matrix(0.94682366238769 0 0 0.94682366238769 5.11556371887472 10.16199803657216)"}},[r("ellipse",{staticClass:"yuumi-main",style:{fill:e.yuumi.mainColor},attrs:{id:"e4Xr2tP63Cp3",rx:"47.800000",ry:"75.900000",transform:"matrix(1 0 0 1 96.20000000000000 191.09999999999999)",fill:"rgb(203,230,249)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})]),r("g",{attrs:{id:"e4Xr2tP63Cp4",transform:"matrix(0.94682366238769 0 0 0.94682366238769 5.11556351602310 7.58560504724019)"}},[r("path",{staticClass:"yuumi-fur",attrs:{id:"e4Xr2tP63Cp5",d:"M188.400000,183.800000C188.400000,207.100000,160.900000,205.800000,152.100000,213.600000C147.400000,217.800000,147.600000,219.600000,147.600000,219.600000C145.174620,218.428858,143.103976,216.634300,141.600000,214.400000C141.130039,217.196759,141.441484,220.068979,142.500000,222.700000C129.200000,219.100000,94,197.900000,94,183.800000C94,165.400000,115.200000,153.200000,141.200000,153.200000C167.200000,153.200000,188.400000,166.900000,188.400000,183.800000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(72,36,64)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}}),r("g",{attrs:{id:"e4Xr2tP63Cp6"}},[r("path",{staticClass:"yuumi-gold-fill",style:{fill:e.yuumi.secondaryFill},attrs:{id:"e4Xr2tP63Cp7",d:"M179.700000,154.500000C179.700000,143.500000,163.100000,134.600000,142.500000,134.600000C121.900000,134.600000,105.200000,143.500000,105.200000,154.500000C105.200000,165.500000,117.500000,171.900000,134,173.900000C137.300000,178.300000,139.800000,181.400000,141.600000,182.200000L143.400000,182.200000C145.200000,181.400000,147.700000,178.300000,150.900000,173.900000C167.400000,171.900000,179.700000,164,179.700000,154.500000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(242,199,65)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}}),r("path",{staticClass:"yuumi-jewel",attrs:{id:"e4Xr2tP63Cp8",d:"M144.400000,165.600000L142.500000,165.400000L140.500000,165.600000C138,166,135.400000,167,136.400000,168.600000C140.900000,174.900000,141.700000,176.400000,142.500000,176.400000L142.500000,176.400000C143.300000,176.400000,144,174.900000,148.600000,168.600000C149.500000,167,147,166,144.400000,165.600000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(133,204,216)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})])]),r("g",{attrs:{id:"e4Xr2tP63Cp9_to",transform:"translate(97.483994,107.700000)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp9_tr",transform:"rotate(0)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp9",transform:"scale(0.946824,0.946824) translate(-97.483994,-107.700000)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp10_tr",transform:"translate(131.525543,41.800000) rotate(0)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp10",transform:"translate(-131.525543,-41.800000)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp11"}},[r("path",{staticClass:"yuumi-ear",attrs:{id:"e4Xr2tP63Cp12",d:"M178.800000,90.900000C178.800000,90.900000,170.500000,77.600000,183.600000,72.100000C196.700000,66.600000,206.800000,62.900000,211.300000,60.500000C215.800000,58.100000,219.800000,54.800000,222,56.700000C224.200000,58.600000,224.800000,70.700000,222.600000,82C221.200000,89.300000,218.800000,97.100000,210,105.100000C201.200000,113.100000,193.600000,110,193.600000,110C193.600000,110,181.900000,105.700000,178.800000,90.900000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(185,77,107)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}}),r("g",{attrs:{id:"e4Xr2tP63Cp13","clip-path":"url(#e4Xr2tP63Cp17)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp14"}},[r("path",{staticClass:"yuumi-ear-inside",attrs:{id:"e4Xr2tP63Cp15",d:"M188.700000,81.100000C188.700000,81.100000,197.200000,77.800000,203.300000,77.800000C209.400000,77.800000,212.900000,79.700000,210,84C207.100000,88.300000,201.100000,90.100000,201.100000,90.100000C201.100000,90.100000,204,92.600000,204,94.700000C204,96.800000,201.200000,98.200000,197.700000,98.200000C195.646104,98.209363,193.598385,97.974379,191.600000,97.500000C184.700000,95.800000,181.400000,92.500000,181.600000,87.700000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(122,135,194)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}}),r("path",{staticClass:"yuumi-main",style:{fill:e.yuumi.mainColor},attrs:{id:"e4Xr2tP63Cp16",d:"M178.400000,95.700000C195.600000,71.600000,201.900000,86,216.300000,57.600000L221.400000,48.600000L239.600000,57.300000L234.600000,48.600000L219,46.200000L197.600000,52.300000L177.500000,66.700000L165.900000,80.600000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(203,230,249)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})]),r("clipPath",{attrs:{id:"e4Xr2tP63Cp17",transform:"matrix(1 0 0 1 -45 -36)"}},[r("path",{attrs:{id:"e4Xr2tP63Cp18",d:"M178.800000,90.900000C178.800000,90.900000,170.500000,77.600000,183.600000,72.100000C196.700000,66.600000,206.800000,62.900000,211.300000,60.500000C215.800000,58.100000,219.800000,54.800000,222,56.700000C224.200000,58.600000,224.800000,70.700000,222.600000,82C221.200000,89.300000,218.800000,97.100000,210,105.100000C201.200000,113.100000,193.600000,110,193.600000,110C193.600000,110,181.900000,105.700000,178.800000,90.900000Z",fill:"rgb(185,77,107)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})])])])])]),r("g",{attrs:{id:"e4Xr2tP63Cp19_tr",transform:"translate(63.174484,41.800000) rotate(0)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp19",transform:"translate(-63.174484,-41.800000)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp20"}},[r("path",{staticClass:"yuumi-ear",attrs:{id:"e4Xr2tP63Cp21",d:"M105.900000,90.900000C105.900000,90.900000,114.200000,77.600000,101.100000,72.100000C88,66.600000,77.900000,62.900000,73.400000,60.500000C68.900000,58.100000,64.900000,54.800000,62.600000,56.700000C60.300000,58.600000,59.900000,70.700000,62.100000,82C63.500000,89.300000,65.900000,97.100000,74.600000,105.100000C83.300000,113.100000,91.100000,110,91.100000,110C91.100000,110,102.700000,105.700000,105.900000,90.900000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(185,77,107)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}}),r("g",{attrs:{id:"e4Xr2tP63Cp22","clip-path":"url(#e4Xr2tP63Cp26)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp23"}},[r("path",{staticClass:"yuumi-ear-inside",attrs:{id:"e4Xr2tP63Cp24",d:"M96,81.100000C96,81.100000,87.400000,77.800000,81.300000,77.800000C75.200000,77.800000,71.700000,79.700000,74.600000,84C77.500000,88.300000,83.600000,90.100000,83.600000,90.100000C83.600000,90.100000,80.600000,92.600000,80.600000,94.700000C80.600000,96.800000,83.500000,98.200000,86.900000,98.200000C88.986578,98.203501,91.066728,97.968645,93.100000,97.500000C100,95.800000,103.200000,92.500000,103.100000,87.700000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(122,135,194)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}}),r("path",{staticClass:"yuumi-main",style:{fill:e.yuumi.mainColor},attrs:{id:"e4Xr2tP63Cp25",d:"M106.300000,95.700000C89,71.600000,82.800000,86,68.400000,57.600000L63.300000,48.600000L45,57.300000L50,48.600000L65.700000,46.200000L87.100000,52.300000L107.200000,66.700000L118.800000,80.600000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(203,230,249)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})]),r("clipPath",{attrs:{id:"e4Xr2tP63Cp26",transform:"matrix(1 0 0 1 -45 -36)"}},[r("path",{attrs:{id:"e4Xr2tP63Cp27",d:"M105.900000,90.900000C105.900000,90.900000,114.200000,77.600000,101.100000,72.100000C88,66.600000,77.900000,62.900000,73.400000,60.500000C68.900000,58.100000,64.900000,54.800000,62.600000,56.700000C60.300000,58.600000,59.900000,70.700000,62.100000,82C63.500000,89.300000,65.900000,97.100000,74.600000,105.100000C83.300000,113.100000,91.100000,110,91.100000,110C91.100000,110,102.700000,105.700000,105.900000,90.900000Z",fill:"rgb(185,77,107)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})])])])])]),r("g",{attrs:{id:"e4Xr2tP63Cp28"}},[r("path",{staticClass:"yuumi-main",style:{fill:e.yuumi.mainColor},attrs:{id:"e4Xr2tP63Cp29",d:"M142.300000,163.500000C173,162.100000,199.700000,150.100000,223.100000,129.400000C213.200000,120.600000,187,63.100000,142.300000,68.600000C97.700000,63.100000,71.500000,120.600000,61.600000,129.400000C85,150.100000,111.600000,162.100000,142.300000,163.500000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(203,230,249)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}}),r("path",{staticClass:"yuumi-gold-fill",style:{fill:e.yuumi.secondaryColor},attrs:{id:"e4Xr2tP63Cp30",d:"M165.100000,53.600000C162.689513,53.964842,160.314327,54.533548,158,55.300000C154.903861,56.195056,152.172358,58.051078,150.200000,60.600000C148.227642,63.148922,151.500000,56.600000,149.600000,49.100000C148.192274,44.257106,145.733901,39.784233,142.400000,36C142.384058,36.137088,142.350445,36.271538,142.300000,36.400000L142.300000,36C138.956491,39.793418,136.466985,44.260886,135,49.100000C133.100000,56.600000,134.500000,60.600000,134.500000,60.600000C132.500130,58.080524,129.778893,56.231479,126.700000,55.300000C124.354115,54.524639,121.944947,53.955808,119.500000,53.600000C119.546564,57.164614,120.119413,60.702800,121.200000,64.100000C122.700000,69.100000,127.200000,72.600000,129,73.700000C130.800000,74.800000,136.400000,78.800000,141.600000,79.200000L143,79.200000C148.300000,78.800000,153.800000,74.900000,155.600000,73.700000C157.400000,72.500000,161.900000,69.100000,163.500000,64.100000C164.580095,60.705429,165.120015,57.162206,165.100000,53.600000Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(244,199,64)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}}),r("path",{staticClass:"yuumi-nose",attrs:{id:"e4Xr2tP63Cp31",d:"M145.300000,123C144.456404,122.710663,143.585077,122.509587,142.700000,122.400000L142,122.400000C141.083636,122.517530,140.179895,122.718361,139.300000,123C136.800000,123.700000,136.300000,125.700000,136.700000,126.600000C137.100000,127.500000,142.300000,130.300000,142.300000,130.300000L142.400000,130.300000C142.400000,130.300000,147.600000,127.500000,148,126.600000C148.400000,125.700000,147.800000,123.700000,145.300000,123Z",transform:"matrix(1 0 0 1 -45 -36)",fill:"rgb(185,77,107)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})]),r("g",{attrs:{id:"e4Xr2tP63Cp32_to",transform:"translate(97.299999,104.699997)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp32",transform:"translate(-97.299999,-104.699997)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp33",opacity:"0",mask:"url(#e4Xr2tP63Cp35)"}},[r("path",{attrs:{id:"e4Xr2tP63Cp34",d:"M80.600000,104.700000L85.300000,107.700000L90,107.700000L97.350000,103.100000L104.600000,107.700000L110.600000,107.700000L116.700000,101.700000L133.800000,101.700000L145.300000,147.800000L46.100000,147.800000L60.200000,101.700000L77.900000,101.989398L80.600000,104.700000Z",fill:"rgb(185,77,107)",stroke:"none","stroke-width":"0.534000","stroke-miterlimit":"1"}}),r("mask",{attrs:{id:"e4Xr2tP63Cp35","mask-type":"alpha"}},[r("ellipse",{attrs:{id:"e4Xr2tP63Cp36",rx:"14.129135",ry:"13.296357",transform:"matrix(0.90797042081521 0 0 1.13910412940904 97.30000000000003 107.43763568999991)",fill:"rgb(185,77,107)",stroke:"none","stroke-width":"0","stroke-miterlimit":"1"}})])]),r("path",{attrs:{id:"e4Xr2tP63Cp37",d:"M122.900000,137.700000C122.900000,137.700000,125.900000,143.700000,132.700000,143.700000C136.753395,143.680908,140.441005,141.351891,142.200000,137.700000L142.500000,137.700000C144.243083,141.319777,147.882802,143.643002,151.900000,143.700000C156.015642,143.634160,159.769934,141.335614,161.700000,137.700000",transform:"matrix(1 0 0 1 -45 -36)",fill:"none",stroke:"rgb(122,135,194)","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"1"}})])]),r("g",{attrs:{id:"e4Xr2tP63Cp38"}},[r("path",{staticClass:"yuumi-gold-stroke",style:{stroke:e.yuumi.secondaryColor},attrs:{id:"e4Xr2tP63Cp39",d:"M230.400000,152.200000C230.400000,151,233.400000,151.600000,233.900000,155C234.500000,160.100000,225.400000,167.300000,214.700000,155.900000C204,144.500000,195.500000,139.400000,190.300000,139.100000",transform:"matrix(1 0 0 1 -45 -36)",fill:"none",stroke:"rgb(244,199,64)","stroke-width":"5","stroke-linecap":"round","stroke-miterlimit":"1"}}),r("path",{staticClass:"yuumi-gold-stroke",style:{stroke:e.yuumi.secondaryColor},attrs:{id:"e4Xr2tP63Cp40",d:"M205,131.400000C208.559900,132.836373,211.791655,134.979536,214.500000,137.700000C218.600000,142.100000,223,145.400000,227.900000,144.400000C232.800000,143.400000,231.800000,139.800000,230.100000,139.700000",transform:"matrix(1 0 0 1 -45 -36)",fill:"none",stroke:"rgb(244,199,64)","stroke-width":"4","stroke-linecap":"round","stroke-miterlimit":"1"}})]),r("g",{attrs:{id:"e4Xr2tP63Cp41"}},[r("path",{staticClass:"yuumi-gold-stroke",style:{stroke:e.yuumi.secondaryColor},attrs:{id:"e4Xr2tP63Cp42",d:"M54.300000,152.200000C54.300000,151,51.200000,151.600000,50.800000,155C50.100000,160.100000,59.200000,167.300000,69.900000,155.900000C80.600000,144.500000,89.200000,139.400000,94.400000,139.100000",transform:"matrix(1 0 0 1 -45 -36)",fill:"none",stroke:"rgb(244,199,64)","stroke-width":"5","stroke-linecap":"round","stroke-miterlimit":"1"}}),r("path",{staticClass:"yuumi-gold-stroke",style:{stroke:e.yuumi.secondaryColor},attrs:{id:"e4Xr2tP63Cp43",d:"M79.600000,131.400000C76.077070,132.850593,72.880744,134.992812,70.200000,137.700000C66.100000,142.100000,61.700000,145.400000,56.700000,144.400000C51.700000,143.400000,52.900000,139.800000,54.500000,139.700000",transform:"matrix(1 0 0 1 -45 -36)",fill:"none",stroke:"rgb(244,199,64)","stroke-width":"4","stroke-linecap":"round","stroke-miterlimit":"1"}})]),r("g",{attrs:{id:"e4Xr2tP63Cp44_ts",transform:"translate(97.349998,75.900005) scale(1,1)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp44",transform:"translate(-97.349998,-75.900005)"}},[r("g",{attrs:{id:"e4Xr2tP63Cp45"}},[r("ellipse",{staticClass:"yuumi-eye",attrs:{id:"e4Xr2tP63Cp46",rx:"5.400000",ry:"6.700000",transform:"matrix(1 0 0 1 119.50000000000000 75.90000000000001)",fill:"rgb(72,36,64)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})]),r("g",{attrs:{id:"e4Xr2tP63Cp47"}},[r("ellipse",{staticClass:"yuumi-eye",attrs:{id:"e4Xr2tP63Cp48",rx:"5.400000",ry:"6.700000",transform:"matrix(1 0 0 1 75.20000000000000 75.90000000000001)",fill:"rgb(72,36,64)",stroke:"none","stroke-width":"1","stroke-miterlimit":"1"}})])])]),r("g",{attrs:{id:"e4Xr2tP63Cp49"}},[r("path",{staticClass:"yuumi-gold-stroke",style:{stroke:e.yuumi.secondaryColor},attrs:{id:"e4Xr2tP63Cp50",d:"M154.400000,97.500000C157.252063,93.812581,161.638467,91.637809,166.300000,91.600000C174.100000,91.600000,175.400000,96.300000,182.200000,96.300000C186.500000,96.300000,187.900000,94.600000,187.900000,94.600000",transform:"matrix(1 0 0 1 -45 -36)",fill:"none",stroke:"rgb(244,199,64)","stroke-width":"6","stroke-linecap":"round","stroke-miterlimit":"1"}})]),r("g",{attrs:{id:"e4Xr2tP63Cp51"}},[r("path",{staticClass:"yuumi-gold-stroke",style:{stroke:e.yuumi.secondaryColor},attrs:{id:"e4Xr2tP63Cp52",d:"M130.300000,97.500000C127.447937,93.812581,123.061533,91.637809,118.400000,91.600000C110.600000,91.600000,109.300000,96.300000,102.500000,96.300000C98.200000,96.300000,96.700000,94.600000,96.700000,94.600000",transform:"matrix(1 0 0 1 -45 -36)",fill:"none",stroke:"rgb(244,199,64)","stroke-width":"6","stroke-linecap":"round","stroke-miterlimit":"1"}})]),r("g",{attrs:{id:"e4Xr2tP63Cp53",transform:"matrix(1 0 0 1 -0.05000229000002 0)",opacity:"0"}},[r("path",{attrs:{id:"e4Xr2tP63Cp54",d:"M68.160218,89.297034C72.921788,82.352893,79.270496,82.744905,83.766680,89.297034",transform:"matrix(1 0 0 1 -0.76344940500003 -9.64521790499991)",fill:"none",stroke:"rgb(72,36,64)","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"1"}}),r("path",{attrs:{id:"e4Xr2tP63Cp55",d:"M68.160218,89.297034C72.921788,82.352893,79.270496,82.744905,83.766680,89.297034",transform:"matrix(-1 0 0 1 195.46344940500006 -9.64521790499991)",fill:"none",stroke:"rgb(72,36,64)","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"1"}})])])])])])])},Pe=[],De={data:function(){return{yuumi:{mainColor:"null",secondaryColor:"null"}}},methods:{turnRed:function(){this.yuumi.mainColor="red",this.yuumi.secondaryColor="brown"}}},Ae=De,Ee=Object(f["a"])(Ae,Le,Pe,!1,null,null,null),Se=Ee.exports,Ne={components:{yuumi:Se},props:{isSignup:Boolean},data:function(){return{credentials:{username:"Guest",password:"1234"},signupCred:{username:"Big Jimbo",password:"1234",fullname:"James Smith",email:"shimi@yuulo.com"}}},created:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser}},methods:{closeModal:function(){this.$emit("closeModal")},login:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"login",userCred:e.credentials});case 3:r=t.sent,e.$store.dispatch({type:"loadUserCardWatch",userId:r._id}),e.$emit("closeModal"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("cannot login",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},signup:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.signupCred.email=e.signupCred.username+"@yuulo.com",t.next=4,e.$store.dispatch({type:"signup",userCred:e.signupCred});case 4:r=t.sent,e.$store.dispatch({type:"loadUserCardWatch",userId:r._id}),e.$emit("closeModal"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("cannot signup",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},logout:function(){this.$store.dispatch({type:"logout"})}}},Je=Ne,Xe=Object(f["a"])(Je,q,K,!1,null,null,null),Ge=Xe.exports,ze={name:"home",components:{loginUser:Ge,yuumi:Se},data:function(){return{displayModal:!1,isSignup:!1}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},userOrModal:function(){return!this.loggedinUser&&!this.displayModal},boards:function(){return this.$store.getters.boards}},methods:{loginPage:function(){this.displayModal=!0,this.isSignup=!1},signupPage:function(){this.displayModal=!0,this.isSignup=!0},loginAsGuest:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"login",userCred:{username:"Guest",password:"1234"}});case 3:r=t.sent,e.$store.dispatch({type:"loadUserCardWatch",userId:r._id}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("cannot login",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},logout:function(){this.$store.dispatch({type:"logout"})},selectBoard:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"loadBoard",boardId:e});case 2:r.sent,t.$router.push("/board/"+e);case 4:case"end":return r.stop()}}),r)})))()}},created:function(){this.$store.commit({type:"clearBaord"}),this.$store.dispatch("loadBoards")},mounted:function(){document.title="Yuulo - Home"}},Fe=ze,Ye=Object(f["a"])(Fe,Z,W,!1,null,null,null),He=Ye.exports,Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.board?r("section",{staticClass:"board-container"},[this.board.style.backgroundImg?r("div",{staticClass:"background",style:{"background-image":"url("+this.board.style.backgroundImg+")"}}):e._e(),this.board.style.backgroundColor?r("div",{staticClass:"background",style:{"background-color":this.board.style.backgroundColor}}):e._e(),r("div",{staticClass:"board-header"},[r("div",{staticClass:"main-header-side"},[r("button",{on:{click:e.openDashboard}},[r("h2",[e._v("Electricity~")])]),r("button",{staticClass:"favorite-board"}),r("div",{staticClass:"board-members"},e._l(e.board.members,(function(t){return r("button",{key:t._id,staticClass:"board-member-header"},[t.imgUrl?r("div",[r("img",{attrs:{src:t.imgUrl}})]):t.fullname?r("div",{staticClass:"to-user"},[e._v(" "+e._s(t.fullname.charAt(0))+" ")]):r("div",{staticClass:"to-user"},[e._v("?")])])})),0),r("button",{on:{click:e.memberModal}},[e._v("Invite")]),e.isMember?r("div",{staticClass:"invite-member"},[r("button",{on:{click:e.memberModal}},[e._v("X")]),e.users?r("section",e._l(e.users,(function(t){return r("button",{key:t._id,on:{click:function(r){return e.addMember(t)}}},[r("img",{staticClass:"img-invite",attrs:{src:t.imgUrl,alt:""}}),e._v(" "+e._s(t.fullname)+" ")])})),0):e._e()]):e._e()]),r("button",{staticClass:"show-board-menu",on:{click:e.toggleMenu}},[e._v(" Show menu")]),r("transition",{attrs:{name:"go-side"}},[e.isSideMenu?r("side-menu",{on:{boardCoverColor:e.boardCoverColor,boardCoverImage:e.boardCoverImage,toggleMenu:e.toggleMenu}}):e._e()],1)],1),r("div",{staticClass:"board-content"},[r("div",{staticClass:"groups-and-add"},[r("draggable",{staticClass:"groups",attrs:{list:e.board.groups,animation:200,ghostClass:"moving-group",chosenClass:"group-moving"},on:{start:e.onDragStart,end:e.onDragEnd}},e._l(e.board.groups,(function(t){return r("group",{key:t.id,staticClass:"group",attrs:{group:t},on:{removeCard:e.removeCard,removeGroup:e.removeGroup,addCard:e.addCard,onDragEnd:e.onDragEnd,updateGroup:e.updateGroup}})})),1),e.isAdding?r("div",{staticClass:"adding-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.emptyGroup.title,expression:"emptyGroup.title"}],attrs:{type:"text",placeholder:"Enter group title..."},domProps:{value:e.emptyGroup.title},on:{input:function(t){t.target.composing||e.$set(e.emptyGroup,"title",t.target.value)}}}),r("div",{staticClass:"add-group-controls"},[r("button",{on:{click:function(t){return e.addGroup(e.copiedGroup)}}},[e._v("Add group")]),r("button",{on:{click:e.toggleAdding}})])]):r("button",{staticClass:"add-group",on:{click:e.toggleAdding}},[e._v(" Add another group ")])],1)]),r("router-view")],1):e._e()},We=[],qe={query:Ke,remove:Ve,getById:et,saveBoard:tt,removeGroup:rt,addGroup:at,removeCard:st,addCard:it,updateCard:ot,getCardById:ct,getEmptyTodo:ut,getEmptyList:pt,updateLabel:lt,updateGroup:nt};function Ke(){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ne.get("board"));case 1:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function Ve(e){return console.log("boardId",e),ne.delete("board/".concat(e))}function et(e){return ne.get("board/".concat(e))}function tt(e){return e._id?ne.put("board",e):ne.post("board",e)}function rt(e,t){var r=e.groups.findIndex((function(e){return t===e.id}));return e.groups.splice(r,1),tt(e)}function at(e,t){return t.id=le.makeId(),e.groups.push(t),tt(e)}function nt(e,t){var r=e.groups.findIndex((function(e){return e.id===t.id}));return e.groups.splice(r,1,t),tt(e)}function st(e,t,r){var a=t.cards.findIndex((function(e){return r===e.id}));t.cards.splice(a,1);var n=e.groups.findIndex((function(e){return e.id===t.id}));return e.groups.splice(n,1,t),tt(e)}function ot(e,t,r,a){var n=t.cards.findIndex((function(e){return r===e.id}));t.cards.splice(n,1,a);var s=e.groups.findIndex((function(e){return e.id===t.id}));return e.groups.splice(s,1,t),tt(e)}function it(e,t,r){r.id=le.makeId();var a=e.groups.findIndex((function(e){return t===e.id}));return e.groups[a].cards||(e.groups[a].cards=[]),e.groups[a].cards.push(r),tt(e)}function ct(e,t,r){return dt.apply(this,arguments)}function dt(){return dt=Object(l["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et(a);case 3:return n=e.sent,s=n.groups.findIndex((function(e){return e.id===r})),o=n.groups[s].cards.findIndex((function(e){return e.id===t})),e.abrupt("return",{card:n.groups[s].cards[o],group:n.groups[s],board:n});case 9:e.prev=9,e.t0=e["catch"](0),console.log("cannot get card",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),dt.apply(this,arguments)}function lt(e,t,r){if(e.labels||(e.labels=[]),"add"===t)e.labels.push(r);else if("remove"===t){var a=e.labels.findIndex((function(e){return e.id===r.id}));e.labels.splice(a,1),e.groups.forEach((function(e){e.cards.forEach((function(e){if(e.labelIds){var t=e.labelIds.findIndex((function(e){return e===r.id}));-1!==t&&e.labelIds.splice(t,1)}}))}))}else if("update"===t){var n=e.labels.findIndex((function(e){return e.id===r.id}));-1!==n&&e.labels.splice(n,1,r)}return tt(e)}function ut(){return{id:le.makeId(),title:"",isDone:!1,isEdit:!1}}function pt(){return{id:le.makeId(),title:"",todos:[]}}var mt,ht,ft,vt,gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"group-header"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.saveTitle.apply(null,arguments)}}},[r("textarea",{ref:"title",on:{keydown:function(e){if(!e.type.indexOf("key")&&13!==e.keyCode)return null;e.preventDefault()},keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.saveTitle.apply(null,arguments):null},blur:e.saveTitle}},[e._v(e._s(e.group.title))])]),r("button",{on:{click:function(t){return e.removeGroup(e.group.id)}}})]),r("draggable",{staticClass:"group-content",attrs:{list:e.group.cards,group:"cardGroup",animation:200,ghostClass:"moving-card"},on:{start:e.onDragStart,end:e.onDragEnd}},e._l(e.group.cards,(function(t){return r("card-preview",{key:t.id,staticClass:"card-preview",attrs:{group:e.group,card:t,hardcodedBoardId:e.hardcodedBoardId},on:{changeComplete:e.changeComplete,removeCard:e.removeCard}})})),1),e.isAdding?r("section",{staticClass:"add-card-area"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.emptyCard.title,expression:"emptyCard.title"}],attrs:{placeholder:"Enter a title for this card..."},domProps:{value:e.emptyCard.title},on:{input:function(t){t.target.composing||e.$set(e.emptyCard,"title",t.target.value)}}}),e._v(" "),r("div",{staticClass:"add-card-controls"},[r("button",{on:{click:function(t){return e.addCard(e.group.id)}}},[e._v("Add card")]),r("button",{staticClass:"close-adding",on:{click:function(t){e.isAdding=!1}}})])]):r("div",{staticClass:"group-footer"},[r("button",{on:{click:function(t){e.isAdding=!0}}},[e._v(" Add a card")])])],1)},bt=[],Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{on:{click:function(t){return t.stopPropagation(),e.openCard(e.group.id,e.card.id,e.isEditCard=!1)}}},[r("button",{ref:"edit",staticClass:"edit-card-preview",on:{click:function(t){return t.stopPropagation(),e.openCard(e.group.id,e.card.id,e.isEditCard=!0,t)}}}),e.card.cover?r("div",[e.card.cover.color?r("div",{staticClass:"card-preview-cover",style:{backgroundColor:e.card.cover.color}}):r("img",{staticClass:"card-preview-cover-img",attrs:{src:e.card.cover.imgUrl}})]):e._e(),r("div",{staticClass:"card-preview-content"},[e.isLabels?r("div",{staticClass:"card-preview-labels"},e._l(e.cardLabels,(function(t,a){return r("div",{key:a},[t?r("div",{style:{backgroundColor:t.color}}):e._e()])})),0):e._e(),r("div",{staticClass:"card-preview-title"},[e._v(e._s(e.card.title))]),r("div",{staticClass:"card-preview-bottom"},[r("div",{staticClass:"card-preview-badges"},[e.card.dueDate?r("div",{staticClass:"card-preview-date",class:{"date-done":e.card.dueDate.isComplete},on:{click:function(t){return t.stopPropagation(),e.changeComplete()}}},[e._v(" "+e._s(e.date)+" ")]):e._e(),e.card.description?r("div",{staticClass:"card-preview-desc"}):e._e(),e.card.comments?r("div",{staticClass:"card-preview-comments"},[e._v(" "+e._s(e.card.comments.length)+" ")]):e._e(),e.isAttachments?r("div",{staticClass:"card-preview-attachments"},[e._v(" "+e._s(e.card.attachments.length)+" ")]):e._e(),e.isChecklists?r("div",{staticClass:"card-preview-checklists",class:{"checklist-done":e.isChecklistDone}},[e._v(" "+e._s(e.completedTodos)+"/"+e._s(e.numberOfTodos)+" ")]):e._e()]),r("div",{staticClass:"card-preview-members"},e._l(e.card.members,(function(t){return r("button",{key:t._id,staticClass:"card-preview-member"},[t.imgUrl?r("img",{attrs:{src:t.imgUrl}}):t.fullname?r("span",{staticClass:"to-user"},[e._v(e._s(t.fullname.charAt(0)))]):r("span",[e._v("?")])])})),0)])])])},yt=[],kt={components:{},props:{card:Object,group:Object,hardcodedBoardId:String},data:function(){return{isEditCard:!1,position:null}},created:function(){},destroyed:function(){},methods:{removeCard:function(e){this.$emit("removeCard",e)},openCard:function(e,t,r,a){console.log("ev",a);var n={posY:this.$refs.edit.getBoundingClientRect().top+window.scrollY,posX:this.$refs.edit.getBoundingClientRect().left+window.scrollX};this.$store.commit({type:"setPosition",position:n}),this.$router.push("/board/".concat(this.selectedBoard._id,"/").concat(e,"/").concat(t,"/").concat(r))},changeComplete:function(){this.currentCard.dueDate.isComplete=!this.currentCard.dueDate.isComplete,this.$store.dispatch({type:"updateCard",group:this.currentGroup,card:this.currentCard})}},computed:{selectedBoard:function(){return this.$store.getters.selectedBoard},currentGroup:function(){var e=this,t=this.$store.getters.selectedBoard.groups.findIndex((function(t){return e.group.id===t.id}));return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard.groups[t]))},currentCard:function(){return JSON.parse(JSON.stringify(this.card))},numberOfTodos:function(){var e=0;return this.card.checklists.forEach((function(t){return e+=t.todos.length})),e},completedTodos:function(){var e=0;return this.card.checklists.forEach((function(t){return t.todos.forEach((function(t){t.isDone&&e++}))})),e},isAttachments:function(){return!(!this.card.attachments||!this.card.attachments.length)},isLabels:function(){return!(!this.card.labelIds||!this.card.labelIds.length)},isChecklists:function(){return!!(this.card.checklists&&this.card.checklists.length&&this.card.checklists[0].todos&&this.card.checklists[0].todos.length)},isChecklistDone:function(){if(this.numberOfTodos===this.completedTodos)return"true"},date:function(){var e=new Date(this.card.dueDate.date),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e.getDate();return"".concat(t[e.getMonth()]," ").concat(r)},boardLabels:function(){var e=this.$store.getters.selectedBoard;return e.labels},cardLabels:function(){var e=this,t=[];return this.card.labelIds.forEach((function(r){var a=e.boardLabels.filter((function(e){return e.id===r}));t.push(a[0])})),t}}},_t=kt,wt=Object(f["a"])(_t,Ct,yt,!1,null,null,null),xt=wt.exports,jt=r("b76a"),Mt=r.n(jt),$t={props:{group:Object},components:{cardPreview:xt,draggable:Mt.a},data:function(){return{emptyCard:{title:""},isAdding:!1,hardcodedBoardId:"60f42b03d2f67fa6bfa0f528",isUpdated:!1}},computed:{copiedGroup:function(){return JSON.parse(JSON.stringify(this.group))},copiedEmptyCard:function(){return JSON.parse(JSON.stringify(this.emptyCard))}},methods:{saveTitle:function(e){var t=this;if(!this.isUpdated){console.log(e);var r=this.copiedGroup;r.title=this.$refs.title.value,this.$emit("updateGroup",r),setTimeout((function(){return t.isUpdated=!1}),100),this.isUpdated=!0,this.$refs.title.blur()}},onDragStart:function(e){e.item.classList.add("dragging")},onDragEnd:function(e){e.item.classList.remove("dragging"),this.$emit("onDragEnd")},removeGroup:function(e){this.$emit("removeGroup",e)},removeCard:function(e){this.$emit("removeCard",this.copiedGroup,e)},addCard:function(e){this.emptyCard.title&&(this.$emit("addCard",e,this.copiedEmptyCard),this.emptyCard.title="",this.isAdding=!1)},changeComplete:function(e){this.$emit("changeComplete",e)}}},Ot=$t,Ut=Object(f["a"])(Ot,gt,bt,!1,null,null,null),Bt=Ut.exports,It=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"activities"},[r("div",{staticClass:"add-comment"},[r("img",{attrs:{src:e.loggedinUser.imgUrl}}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.activity,expression:"activity"}],attrs:{placeholder:"Write a Comment..."},domProps:{value:e.activity},on:{focus:function(t){e.isActive=!0},input:function(t){t.target.composing||(e.activity=t.target.value)}}})]),this.isActive?r("div",{staticClass:"activity-controls"},[r("button",{on:{click:function(t){return t.stopPropagation(),e.setActivity.apply(null,arguments)}}},[e._v("Save")]),r("button",{on:{focus:function(t){e.isActive=!1}}})]):e._e(),e._l(e.selectedBoard.activities,(function(t){return r("div",{key:t.id},[t.card.id===e.card.id?r("section",[r("div",{staticClass:"activity"},[r("div",[t.byMember.imgUrl?r("img",{attrs:{src:t.byMember.imgUrl}}):t.byMember.fullname?r("div",{staticClass:"to-user activity-user"},[e._v(" "+e._s(t.byMember.fullname.charAt(0))+" ")]):r("div",[e._v("?")])]),r("span",{staticClass:"member-name"},[e._v(e._s(t.byMember.fullname))]),r("span",[r("span"),e._v(" "+e._s(t.txt))]),r("show-time",{staticClass:"activity-time",attrs:{time:t.creatAt}})],1)]):e._e()])}))],2)},Tt=[],Rt={components:{showTime:U},data:function(){return{isActive:!1,activity:""}},computed:{selectedBoard:function(){return this.$store.getters.selectedBoard},card:function(){return this.$store.getters.selectedCard},loggedinUser:function(){return this.$store.getters.loggedinUser}},methods:{setActivity:function(){this.isActive=!1;var e="commented: "+"'".concat(this.activity,"'");this.$emit("setActivity",e,this.activity),this.activity=""}}},Lt=Rt,Pt=Object(f["a"])(Lt,It,Tt,!1,null,null,null),Dt=Pt.exports,At=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"side-menu"},[r("div",{staticClass:"add-card-header side-menu-header"},[e.isActivityModal?r("h3",[e._v("Change background")]):r("h3",[e._v("Menu")]),r("button",{on:{click:e.toggleMenu}}),e.isActivityModal?r("div",{staticClass:"side-menu-back",on:{click:e.coverModal}}):e._e()]),r("hr"),r("div",{staticClass:"side-menu-content"},[e.isActivityModal?e._e():r("button",{on:{click:e.coverModal}},[e._v(" Change background ")]),e.isCoverModal?r("board-cover",{on:{boardCoverColor:e.boardCoverColor,boardCoverImage:e.boardCoverImage}}):e._e(),r("hr"),e.isActivityModal?e._e():r("div",{staticClass:"side-menu-activity"},[r("h3",[e._v("Activity")]),e._l(e.selectedBoard.activities,(function(t){return r("div",{key:t.id},[r("div",{staticClass:"activity"},[r("div",[t.byMember.imgUrl?r("img",{attrs:{src:t.byMember.imgUrl}}):t.byMember.fullname?r("div",{staticClass:"to-user side-menu-user"},[e._v(" "+e._s(t.byMember.fullname.charAt(0))+" ")]):r("div",[e._v("?")])]),r("span",{staticClass:"member-name"},[e._v(e._s(t.byMember.fullname))]),r("span",[r("span"),e._v(" "+e._s(t.txt))]),r("show-time",{staticClass:"activity-time",attrs:{time:t.creatAt}})],1)])}))],2)],1)])},Et=[],St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isModalOpen?r("div",{},[r("div",{staticClass:"board-cover-btns"},[r("button",{on:{click:e.colorModal}},[r("h3",[e._v("Colors")])]),r("button",{on:{click:e.photoModal}},[r("h3",[e._v("Photos")])])]),e.isColors?r("form",{on:{submit:function(t){return t.preventDefault(),e.setCoverColor()}}},[r("h3",[e._v("Colors")]),r("ul",{staticClass:"side-menu-colors"},e._l(e.editCovers,(function(t,a){return r("li",{key:a,staticClass:"side-menu-color",style:"background-color:"+t,on:{click:function(r){return e.boardCoverColor(t)}}},[r("span",{staticClass:"icon"})])})),0)]):e._e(),e.isPhotos?r("div",[r("h3",[e._v("Unsplash")]),r("div",{staticClass:"side-menu-imgs"},e._l(e.boardCovers,(function(t,a){return r("button",{key:a,on:{click:function(r){return e.boardCoverImage(t)}}},[r("img",{staticClass:"cover-img",attrs:{src:t.imgUrl,alt:""}})])})),0)]):e._e()]):e._e()},Nt=[],Jt={data:function(){return{editCovers:["#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0","#0079bf","#00c2e0","#51e898","#ff78cb","#344563"],pickedCover:{id:null,color:"#344563"},isRemoved:!0,isModalOpen:!0,isColors:!1,isPhotos:!1}},computed:{boardCovers:function(){var e=this.$store.getters.selectedBoard;return e.covers}},methods:{boardCoverImage:function(e){this.$emit("boardCoverImage",e)},boardCoverColor:function(e){this.pickedCover.color=e,this.$emit("boardCoverColor",this.pickedCover)},closeModal:function(){this.isModalOpen=!1},removeCover:function(){this.isRemoved=!1,this.$emit("removeCover")},colorModal:function(){this.isColors=!0,this.isPhotos=!1},photoModal:function(){this.isPhotos=!0,this.isColors=!1}}},Xt=Jt,Gt=Object(f["a"])(Xt,St,Nt,!1,null,null,null),zt=Gt.exports,Ft={data:function(){return{isCoverModal:!1,isActivityModal:!1}},components:{showTime:U,boardCover:zt},computed:{selectedBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard))},firstLetter:function(){return this.activity.byMember.fullname.charAt(0)}},methods:{toggleMenu:function(){this.$emit("toggleMenu")},coverModal:function(){this.isCoverModal=!this.isCoverModal,this.isActivityModal=!this.isActivityModal},boardCoverImage:function(e){this.$emit("boardCoverImage",e)},boardCoverColor:function(e){this.$emit("boardCoverColor",e)}}},Yt=Ft,Ht=Object(f["a"])(Yt,At,Et,!1,null,null,null),Zt=Ht.exports,Wt={components:{group:Bt,activities:Dt,sideMenu:Zt,draggable:Mt.a,yuumi:Se},data:function(){return{isAdding:!1,emptyGroup:{title:"",style:{},cards:[]},isSideMenu:!1,isMember:!1}},computed:{board:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard))},boardId:function(){return this.$route.params.boardId},copiedGroup:function(){return JSON.parse(JSON.stringify(this.emptyGroup))},loggedinUser:function(){return this.$store.getters.loggedinUser},users:function(){return this.$store.getters.users}},methods:{openDashboard:function(){this.$router.push("/board/".concat(this.board._id,"/dashboard"))},addMember:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={fullname:e.fullname,_id:e._id,imgUrl:e.imgUrl},r.next=3,t.$store.dispatch({type:"addMember",member:a});case 3:case"end":return r.stop()}}),r)})))()},memberModal:function(){this.isMember=!this.isMember},onDragStart:function(){},onDragEnd:function(){var e=this.board;this.$store.commit({type:"setBoard",board:e}),this.$store.dispatch({type:"updateBoard",board:e})},updateGroup:function(e){console.log("group",e),this.$store.dispatch({type:"updateGroup",board:this.board,group:e})},removeGroup:function(e){this.$store.dispatch({type:"removeGroup",groupId:e})},addGroup:function(e){e.title&&(this.$store.dispatch({type:"addGroup",group:e}),this.emptyGroup.title="",this.isAdding=!1)},removeCard:function(e,t){this.$store.dispatch({type:"removeCard",board:this.board,group:e,cardId:t})},addCard:function(e,t){this.$store.dispatch({type:"addCard",board:this.board,groupId:e,card:t})},toggleAdding:function(){this.isAdding=!this.isAdding},toggleMenu:function(){this.isSideMenu=!this.isSideMenu},boardCoverImage:function(e){var t=this.board;t.style.backgroundImg=e.imgUrl,t.style.backgroundColor=null,this.$store.dispatch({type:"updateBoard",board:t})},boardCoverColor:function(e){var t=this.board;t.style.backgroundColor=e.color,t.style.backgroundImg=null,this.$store.dispatch({type:"updateBoard",board:t})},setUpdatedLoggedInUser:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.getById(e.loggedinUser._id);case 3:r=t.sent,e.$store.commit({type:"setLoggedinUser",user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("cannot get user",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch({type:"loadBoard",boardId:e.boardId}),t.next=3,e.$store.dispatch({type:"loadUsers"});case 3:e.setUpdatedLoggedInUser(),socketService.emit("board topic",e.boardId),e.loggedinUser&&e.$store.dispatch({type:"loadUserCardWatch",userId:e.loggedinUser._id}),window.document.title="Yuulo";case 7:case"end":return t.stop()}}),t)})))()}},qt=Wt,Kt=Object(f["a"])(qt,Ze,We,!1,null,null,null),Qt=Kt.exports,Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.card?r("div",{staticClass:"card-details-container",on:{click:e.closeCard}},[e.isEditCard?e._e():r("section",{staticClass:"card-details",on:{click:function(t){return t.stopPropagation(),e.closeModal.apply(null,arguments)}}},[e.card.cover?r("div",{staticClass:"details-cover",style:{backgroundColor:e.card.cover.color}},[e.card.cover.imgUrl?r("img",{attrs:{src:e.card.cover.imgUrl,alt:""}}):e._e(),r("button",{staticClass:"choose-cover",attrs:{"data-cmp":"add-cover"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Cover ")])]):e._e(),r("button",{staticClass:"close-details",class:{"no-cover-details":!e.card.cover},on:{click:e.closeCard}}),r("header",{staticClass:"details-header"},[r("span",{staticClass:"details-title"}),r("div",[r("form",{on:{submit:function(t){return t.preventDefault(),e.saveTitle.apply(null,arguments)}}},[r("textarea",{ref:"title",on:{keydown:function(e){if(!e.type.indexOf("key")&&13!==e.keyCode)return null;e.preventDefault()},keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.saveTitle.apply(null,arguments):null},blur:e.saveTitle}},[e._v(e._s(e.card.title))])]),r("h5",[e._v("in list "+e._s(e.group.title))])])]),r("div",{staticClass:"details-body"},[e.card?r("div",{staticClass:"left-side"},[r("div",{staticClass:"details-top-left"},[e.isMembers?r("div",{staticClass:"details-members"},[r("h3",[e._v("MEMBERS")]),e.card.members?r("member",{attrs:{card:e.card},on:{setModalType:e.setModalType,removeMember:e.removeMember}}):e._e()],1):e._e(),e.isLabels?r("div",{staticClass:"details-labels"},[r("h3",[e._v("LABELS")]),e.card.labelIds?r("labels",{attrs:{card:e.card},on:{setModalType:e.setModalType}}):e._e()],1):e._e(),e.card.dueDate?r("div",{staticClass:"details-dates"},[r("h3",[e._v("DUE DATE")]),e.card.dueDate?r("date",{attrs:{card:e.card},on:{changeComplete:e.changeComplete,setModalType:e.setModalType}}):e._e()],1):e._e()]),r("div",{staticClass:"details-bottom-left"},[r("div",{staticClass:"details-desc"},[r("span",{staticClass:"details-desc-icon"}),r("description",{attrs:{card:e.card},on:{setDesc:e.setDesc}})],1),e.isAttachments?r("div",{staticClass:"details-attachment"},[r("h4",[e._v("Attachments")]),r("span",{staticClass:"details-attachment-icon"}),e.card.attachments?r("attachment",{attrs:{card:e.card},on:{removeLink:e.removeLink,setCover:e.setCover,removeCover:e.removeCover,setModalType:e.setModalType}}):e._e()],1):e._e(),r("div",{staticClass:"details-checklist"},[e.card.checklists?r("ul",e._l(e.card.checklists,(function(t,a){return r("li",{key:a},[r("checklist",{attrs:{checklist:t},on:{addTodo:e.addTodo,removeList:e.removeList}})],1)})),0):e._e()]),r("div",{staticClass:"details-activity"},[r("h4",[e._v("Activity")]),r("span",{staticClass:"details-activity-icon"}),r("activities",{on:{setActivity:e.setActivity}})],1)])]):e._e(),r("div",{staticClass:"right-side"},[r("h5",[e._v("ADD TO CARD")]),e.isMemberIn?r("button",{staticClass:"member-join",on:{click:e.joinMember}},[e._v(" Join ")]):e._e(),r("button",{staticClass:"add-member",attrs:{"data-cmp":"add-member"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Members ")]),r("button",{staticClass:"add-label",attrs:{"data-cmp":"add-label"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Labels ")]),r("button",{staticClass:"add-checklist",attrs:{"data-cmp":"add-checklist"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Checklist ")]),r("button",{staticClass:"add-date",attrs:{"data-cmp":"add-date"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Dates ")]),r("button",{staticClass:"add-attachment",attrs:{"data-cmp":"add-attachment"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Attachment ")]),e.card.cover?e._e():r("button",{staticClass:"add-cover",attrs:{"data-cmp":"add-cover"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Cover ")])])]),e.openModalType?r("section",{staticClass:"modal",on:{click:function(t){return t.stopPropagation(),e.stop.apply(null,arguments)}}},[r(e.openModalType,{tag:"component",attrs:{card:e.card,labels:e.labelsToShow,users:e.usersToShow},on:{closeModal:e.closeModal,addUser:e.addMember,linkAdded:e.linkAdded,addDate:e.addDate,createLabel:e.createLabel,setLabel:e.setLabel,listAdded:e.addList,setCover:e.setCover,removeCover:e.removeCover,search:e.setSearch,removeDate:e.removeDate}})],1):e._e()]),e.isEditCard?r("div",{staticClass:"card-editor"},[r("div",{staticClass:"right-side"},[r("h5",[e._v("ADD TO CARD")]),r("button",{staticClass:"add-member",attrs:{"data-cmp":"add-member"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Members ")]),r("button",{staticClass:"add-label",attrs:{"data-cmp":"add-label"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Labels ")]),r("button",{staticClass:"add-date",attrs:{"data-cmp":"add-date"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Dates ")]),e.card.cover?e._e():r("button",{staticClass:"add-cover",attrs:{"data-cmp":"add-cover"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" Cover ")])]),e.openModalType?r("section",{staticClass:"modal",on:{click:function(t){return t.stopPropagation(),e.stop.apply(null,arguments)}}},[r(e.openModalType,{tag:"component",attrs:{card:e.card,labels:e.labelsToShow,users:e.usersToShow},on:{closeModal:e.closeModal,addUser:e.addMember,linkAdded:e.linkAdded,addDate:e.addDate,createLabel:e.createLabel,setLabel:e.setLabel,listAdded:e.addList,setCover:e.setCover,removeCover:e.removeCover,search:e.setSearch,removeDate:e.removeDate}})],1):e._e(),r("card-edit-preview",{style:e.position,attrs:{group:e.group,card:e.card}})],1):e._e()]):e._e()},er=[],tr=r("5530"),rr=(r("a4d3"),r("e01a"),r("b0c0"),r("caad"),r("2532"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card-edit-preview",on:{click:function(t){return e.openCard(e.group.id,e.card.id)}}},[e.card.cover?r("div",[e.card.cover.color?r("div",{staticClass:"card-preview-cover",style:{backgroundColor:e.card.cover.color}}):r("img",{staticClass:"card-preview-cover-img",attrs:{src:e.card.cover.imgUrl}})]):e._e(),r("div",{staticClass:"card-preview-content"},[e.isLabels?r("div",{staticClass:"card-preview-labels"},e._l(e.cardLabels,(function(t,a){return r("div",{key:a},[t?r("div",{style:{backgroundColor:t.color}}):e._e()])})),0):e._e(),r("div",{staticClass:"card-preview-title"},[e._v(e._s(e.card.title))]),r("div",{staticClass:"card-preview-bottom"},[r("div",{staticClass:"card-preview-badges"},[e.card.dueDate?r("div",{staticClass:"card-preview-date",class:{"date-done":e.card.dueDate.isComplete},on:{click:function(t){return t.stopPropagation(),e.changeComplete()}}},[e._v(" "+e._s(e.date)+" ")]):e._e(),e.card.description?r("div",{staticClass:"card-preview-desc"}):e._e(),e.card.comments?r("div",{staticClass:"card-preview-comments"},[e._v(" "+e._s(e.card.comments.length)+" ")]):e._e(),e.isAttachments?r("div",{staticClass:"card-preview-attachments"},[e._v(" "+e._s(e.card.attachments.length)+" ")]):e._e(),e.isChecklists?r("div",{staticClass:"card-preview-checklists",class:{"checklist-done":e.isChecklistDone}},[e._v(" "+e._s(e.completedTodos)+"/"+e._s(e.numberOfTodos)+" ")]):e._e()]),r("div",{staticClass:"card-preview-members"},e._l(e.card.members,(function(t){return r("button",{key:t._id,staticClass:"card-preview-member"},[t.imgUrl?r("img",{attrs:{src:t.imgUrl}}):r("span",[e._v(e._s(t.fullname.charAt(0)))])])})),0)])])])}),ar=[],nr={props:{card:Object,group:Object,hardcodedBoardId:String},created:function(){},destroyed:function(){},methods:{removeCard:function(e){this.$emit("removeCard",e)},openCard:function(e,t){this.$router.push("/board/".concat(this.selectedBoard._id,"/").concat(e,"/").concat(t))},changeComplete:function(){this.currentCard.dueDate.isComplete=!this.currentCard.dueDate.isComplete,this.$store.dispatch({type:"updateCard",group:this.currentGroup,card:this.currentCard})}},computed:{selectedBoard:function(){return this.$store.getters.selectedBoard},currentGroup:function(){var e=this,t=this.$store.getters.selectedBoard.groups.findIndex((function(t){return e.group.id===t.id}));return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard.groups[t]))},currentCard:function(){return JSON.parse(JSON.stringify(this.card))},numberOfTodos:function(){var e=0;return this.card.checklists.forEach((function(t){return e+=t.todos.length})),e},completedTodos:function(){var e=0;return this.card.checklists.forEach((function(t){return t.todos.forEach((function(t){t.isDone&&e++}))})),e},isAttachments:function(){return!(!this.card.attachments||!this.card.attachments.length)},isLabels:function(){return!(!this.card.labelIds||!this.card.labelIds.length)},isChecklists:function(){return!!(this.card.checklists&&this.card.checklists.length&&this.card.checklists[0].todos&&this.card.checklists[0].todos.length)},isChecklistDone:function(){if(this.numberOfTodos===this.completedTodos)return"true"},date:function(){var e=new Date(this.card.dueDate.date),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e.getDate();return"".concat(t[e.getMonth()]," ").concat(r)},boardLabels:function(){var e=this.$store.getters.selectedBoard;return e.labels},cardLabels:function(){var e=this,t=[];return this.card.labelIds.forEach((function(r){var a=e.boardLabels.filter((function(e){return e.id===r}));t.push(a[0])})),t}}},sr=nr,or=Object(f["a"])(sr,rr,ar,!1,null,null,null),ir=or.exports,cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{ref:"page",staticClass:"add-to-card",attrs:{tabindex:"0"}},[r("section",{staticClass:"add-label"},[e.isCreate?r("button",{staticClass:"labels-back",on:{click:e.onClickBack}}):e._e(),r("header",{staticClass:"add-card-header"},[r("span",{staticClass:"add-label-title"},[e._v("Labels")]),r("button",{on:{click:e.closeModal}})]),r("hr"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBy,expression:"searchBy"}],ref:"searchInput",attrs:{type:"text",placeholder:"Search labels..."},domProps:{value:e.searchBy},on:{input:[function(t){t.target.composing||(e.searchBy=t.target.value)},e.search]}}),e.isCreate?e._e():r("div",{staticClass:"choose-label"},[r("h5",[e._v("LABELS")]),r("div",{staticClass:"label-picker"},e._l(e.labels,(function(t,a){return r("div",{key:a,staticClass:"card-label",style:"background-color:"+t.color,on:{click:function(r){return e.setLabel(t.id)}}},[r("div",{staticClass:"label-colors"},[r("div",{staticClass:"label-name"},[e._v(e._s(t.name))]),e.isLabelPicked(t)?r("div",{staticClass:"icon"},[e._v("✔")]):e._e()]),r("a",{attrs:{href:"#"},on:{click:function(r){return r.stopPropagation(),e.editLabel(t)}}})])})),0)]),r("button",{staticClass:"create-label-btn",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.createLabel.apply(null,arguments)}}},[e._v(" Create new label ")]),e.isCreate?r("div",{staticClass:"create-label"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.createLabel()}}},[e.isEdit?r("div",[r("label",{attrs:{for:"name"}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.labelToEdit.name,expression:"labelToEdit.name"}],ref:"nameEdit",attrs:{id:"name",type:"text"},domProps:{value:e.labelToEdit.name},on:{input:function(t){t.target.composing||e.$set(e.labelToEdit,"name",t.target.value)}}})]):r("div",[r("label",{attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedLabel.name,expression:"pickedLabel.name"}],ref:"name",attrs:{id:"name",type:"text"},domProps:{value:e.pickedLabel.name},on:{input:function(t){t.target.composing||e.$set(e.pickedLabel,"name",t.target.value)}}})]),r("ul",e._l(e.editLabels,(function(t,a){return r("li",{key:a,staticClass:"card-label-color",style:"background-color:"+t,on:{click:function(r){return e.setChosenLabel(t)}}},[e.pickEditedLabel(t)?r("span",{staticClass:"icon"},[e._v("✔")]):e._e()])})),0),e.isEdit?r("div",{staticClass:"add-label-btns"},[r("button",{on:{click:function(t){return t.preventDefault(),e.saveEditedLabel.apply(null,arguments)}}},[e._v("Save")]),r("button",{on:{click:function(t){return t.preventDefault(),e.removeLabel.apply(null,arguments)}}},[e._v("Delete")])]):r("div",[r("button",{staticClass:"create-new-label"},[e._v("Create")])])])]):e._e()])])},dr=[],lr=(r("ac1f"),r("841c"),{components:{utilService:le},props:{card:Object,labels:Array},created:function(){},mounted:function(){this.$refs.searchInput.focus()},data:function(){return{editLabels:["#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0","#0079bf","#00c2e0","#51e898","#ff78cb","#344563"],isCreate:!1,isEdit:!1,pickedLabel:{id:null,name:null,color:"#344563",isPicked:!0},labelToEdit:null,searchBy:""}},computed:{selectedBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard))}},methods:{isLabelPicked:function(e){if(this.card.labelIds)return this.card.labelIds.some((function(t){return t===e.id}))},pickEditedLabel:function(e){return this.isEdit?e===this.labelToEdit.color||void 0:e===this.pickedLabel.color},closeModal:function(){this.searchBy="",this.search(),this.$emit("closeModal")},setLabel:function(e){this.$emit("setLabel",e)},createLabel:function(){var e=this;if(this.isCreate){this.pickedLabel.id=le.makeId();var t=JSON.parse(JSON.stringify(this.pickedLabel));this.$emit("createLabel",t),this.setPickedLabelEmpty()}this.isCreate=!this.isCreate,this.isCreate&&this.$nextTick((function(){e.$refs.name.focus()}))},editLabel:function(e){var t=this;this.isCreate=!this.isCreate,this.isEdit=!this.isEdit,this.labelToEdit=e,this.$nextTick((function(){t.$refs.nameEdit.focus(),t.$refs.nameEdit.select()}))},removeLabel:function(){this.$emit("createLabel",this.labelToEdit,"remove"),this.isCreate=!1,this.isEdit=!1},saveEditedLabel:function(){this.$emit("createLabel",this.labelToEdit,"update"),this.isCreate=!1,this.isEdit=!1},setPickedLabelEmpty:function(){this.pickedLabel={id:null,name:null,color:"#344563",isPicked:!0}},onClickBack:function(){this.isCreate=!1,this.isEdit=!1},setChosenLabel:function(e){this.isEdit?this.labelToEdit.color=e:this.pickedLabel.color=e},search:function(){this.$emit("search",{type:"label",searchBy:this.searchBy})}}}),ur=lr,pr=Object(f["a"])(ur,cr,dr,!1,null,null,null),mr=pr.exports,hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-to-card"},[r("section",{staticClass:"add-checklist"},[r("header",{staticClass:"add-card-header"},[r("h3",[e._v("Add checklist")]),r("button",{on:{click:e.closeModal}})]),r("hr"),r("div",[r("form",{on:{submit:function(t){t.preventDefault(),e.setList(),e.closeModal()}}},[r("label",{attrs:{for:"checklist"}}),r("h4",[e._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.listname,expression:"listname"}],ref:"check",attrs:{id:"checklist",type:"text"},domProps:{value:e.listname},on:{input:function(t){t.target.composing||(e.listname=t.target.value)}}}),r("button",{staticClass:"add-checklist-btn"},[e._v("Add")])])])])])},fr=[],vr={created:function(){},mounted:function(){this.$refs.check.focus()},data:function(){return{listname:"Checklist"}},methods:{setList:function(){this.$emit("listAdded",this.listname)},closeModal:function(){this.$emit("closeModal")}}},gr=vr,br=Object(f["a"])(gr,hr,fr,!1,null,null,null),Cr=br.exports,yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-to-card add-date"},[r("div",{staticClass:"add-card-header"},[r("button",{on:{click:e.closeModal}}),r("h3",[e._v("Dates")])]),r("hr",{staticClass:"date-hr"}),e.card.dueDate?r("button",{staticClass:"remove-date",on:{click:function(t){e.removeDate(),e.closeModal()}}},[e._v(" Remove Date ")]):e._e(),r("el-date-picker",{ref:"dateInput",attrs:{type:"datetime",placeholder:"Select date and time","value-format":"timestamp","default-time":"12:00:00"},on:{change:function(t){e.addDate(),e.closeModal()}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)},kr=[],_r={props:{card:Object},data:function(){return{pickerOptions:{shortcuts:[{text:"Today",onClick:function(e){e.$emit("pick",new Date)}},{text:"Yesterday",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"A week ago",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},date:""}},mounted:function(){this.$refs.dateInput.focus()},methods:{closeModal:function(){this.$emit("closeModal")},addDate:function(){this.$emit("addDate",this.date)},removeDate:function(){this.$emit("removeDate")}}},wr=_r,xr=Object(f["a"])(wr,yr,kr,!1,null,null,null),jr=xr.exports,Mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-to-card"},[r("section",{staticClass:"add-member"},[r("header",{staticClass:"add-card-header"},[r("h3",[e._v("Members")]),r("button",{on:{click:e.closeModal}})]),r("hr"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBy,expression:"searchBy"}],ref:"searchInput",attrs:{type:"text",placeholder:"Search members"},domProps:{value:e.searchBy},on:{input:[function(t){t.target.composing||(e.searchBy=t.target.value)},e.search]}}),r("ul",[r("h5",[e._v("BOARD MEMBERS")]),e._l(e.selectedBoard.members,(function(t){return r("li",{key:t._id,staticClass:"user-member"},[r("button",{on:{click:function(r){return e.addUser(t)}}},[t.imgUrl?r("img",{attrs:{src:t.imgUrl}}):t.fullname?r("div",{staticClass:"to-user"},[e._v(" "+e._s(t.fullname.charAt(0))+" ")]):r("div",{staticClass:"to-user"},[e._v("?")]),e._v(" "+e._s(t.fullname)+"("+e._s(t.username)+") "),e.isMemberPicked(t)?r("span",{staticClass:"icon"},[e._v("✔")]):e._e()])])}))],2)])])},$r=[],Or={data:function(){return{searchBy:""}},props:{card:Object},created:function(){this.$store.dispatch({type:"loadUsers"})},mounted:function(){this.$refs.searchInput.focus()},methods:{closeModal:function(){this.searchBy="",this.search(),this.$emit("closeModal")},addUser:function(e){this.$emit("addUser",e)},isMemberPicked:function(e){if(this.card.members)return this.card.members.some((function(t){return t._id===e._id}))},search:function(){this.$emit("search",{type:"user",searchBy:this.searchBy})}},computed:{selectedBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard))}}},Ur=Or,Br=Object(f["a"])(Ur,Mr,$r,!1,null,null,null),Ir=Br.exports,Tr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-to-card"},[r("header",{staticClass:"add-card-header"},[r("span",{staticClass:"add-label-title"},[e._v("Add attachment")]),r("button",{on:{click:e.closeModal}})]),r("hr"),r("form",{staticClass:"add-attachments",on:{submit:function(t){t.preventDefault(),e.setLink(),e.closeModal()}}},[r("h3",[e._v("Attach a link")]),r("image-upload",{on:{saveImg:e.saveImg}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"link"}],ref:"attach",attrs:{type:"text",placeholder:"Paste any link here..."},domProps:{value:e.link},on:{input:function(t){t.target.composing||(e.link=t.target.value)}}}),r("button",[e._v("Attach")])],1)])},Rr=[],Lr=(r("9911"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"img-upload-container"},[r("h1",[e._v("Let's Upload Some Images!")]),e.isLoading?r("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif",alt:""}}):[r("label",{class:{drag:e.isDragOver},attrs:{for:"imgUploader"},on:{drop:function(t){return t.preventDefault(),e.handleFile.apply(null,arguments)},dragover:function(t){t.preventDefault(),e.isDragOver=!0},dragleave:function(t){e.isDragOver=!1}}},[e.isDragOver?r("h3",[e._v("Drop image here")]):r("img",{staticClass:"upload-img",attrs:{src:"https://www.lifewire.com/thmb/P856-0hi4lmA2xinYWyaEpRIckw=/1920x1326/filters:no_upscale():max_bytes(150000):strip_icc()/cloud-upload-a30f385a928e44e199a62210d578375a.jpg",alt:""}})]),r("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.handleFile}})]],2)}),Pr=[],Dr=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="davidyan777",a="davidyan7",n="https://api.cloudinary.com/v1_1/".concat(a,"/image/upload"),s=new FormData,s.append("file",t),s.append("upload_preset",r),console.log("uploadImg -> FORM_DATA",s),e.prev=7,e.next=10,te.a.post(n,s);case 10:return o=e.sent,e.abrupt("return",o.data);case 14:e.prev=14,e.t0=e["catch"](7),console.error("ERROR!",e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),Ar={data:function(){return{isLoading:!1,isDragOver:!1}},methods:{handleFile:function(e){var t;"change"===e.type?t=e.target.files[0]:"drop"===e.type&&(t=e.dataTransfer.files[0]),this.onUploadImg(t)},onUploadImg:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,t.isDragOver=!1,r.next=4,Dr(e);case 4:a=r.sent,console.log("res",a.url),t.$emit("saveImg",a.url),t.isLoading=!1;case 8:case"end":return r.stop()}}),r)})))()}}},Er=Ar,Sr=Object(f["a"])(Er,Lr,Pr,!1,null,null,null),Nr=Sr.exports,Jr={components:{imageUpload:Nr},mounted:function(){this.$refs.attach.focus()},data:function(){return{link:""}},methods:{resetModals:function(){this.$emit("closeModals")},saveImg:function(e){this.link=e},setLink:function(){this.$emit("linkAdded",this.link)},closeModal:function(){this.$emit("closeModal")}}},Xr=Jr,Gr=Object(f["a"])(Xr,Tr,Rr,!1,null,null,null),zr=Gr.exports,Fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-to-card"},[r("div",{staticClass:"create-cover"},[r("div",{staticClass:"add-card-header"},[r("button",{on:{click:e.closeModal}}),r("h3",[e._v("Cover")])]),r("div",{staticClass:"cover-controls"},[e._m(0),e.isRemoved?r("button",{on:{click:e.removeCover}},[e._v("Remove Cover")]):e._e()]),r("form",{on:{submit:function(t){return t.preventDefault(),e.setCoverColor()}}},[r("h3",[e._v("Colors")]),r("ul",{staticClass:"cover-colors"},e._l(e.editCovers,(function(t,a){return r("li",{key:a,staticClass:"card-cover-color",style:"background-color:"+t,on:{click:function(r){return e.setCoverColor(t)}}},[r("span",{staticClass:"icon"})])})),0)]),r("h3",[e._v("Attachments")]),r("img-upload-basic",{on:{saveImg:e.saveImg}}),r("h3",[e._v("Unsplash")]),r("div",{staticClass:"cover-unsplash"},e._l(e.boardCovers,(function(t,a){return r("button",{key:a,on:{click:function(r){return e.setCover(t)}}},[r("img",{staticClass:"cover-img",attrs:{src:t.imgUrl,alt:""}})])})),0)],1)])},Yr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"big-cover-controls"},[r("button",[e._v("Header inside the cover")]),r("button",[e._v("Header outside the cover")])])}],Hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("input",{attrs:{type:"file",id:"imgUpload"},on:{change:e.onUploadImg}})])},Zr=[],Wr={data:function(){return{}},methods:{onUploadImg:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,r.next=3,Dr(e);case 3:a=r.sent,t.$emit("saveImg",a.url),t.isLoading=!1;case 6:case"end":return r.stop()}}),r)})))()}}},qr=Wr,Kr=(r("d36c"),Object(f["a"])(qr,Hr,Zr,!1,null,null,null)),Qr=Kr.exports,Vr={components:{imgUploadBasic:Qr},data:function(){return{editCovers:["#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0","#0079bf","#00c2e0","#51e898","#ff78cb","#344563"],pickedCover:{id:null,color:"#344563"},isRemoved:!0,link:""}},computed:{boardCovers:function(){var e=this.$store.getters.selectedBoard;return e.covers}},methods:{saveImg:function(e){this.link=e,this.setLink()},setLink:function(){this.$emit("linkAdded",this.link)},setCover:function(e){this.isRemoved=!0,this.$emit("setCover",e)},setCoverColor:function(e){this.isRemoved=!0,this.pickedCover.color=e,this.$emit("setCover",this.pickedCover)},closeModal:function(){this.$emit("closeModal")},removeCover:function(){this.isRemoved=!1,this.$emit("removeCover")}}},ea=Vr,ta=Object(f["a"])(ea,Fr,Yr,!1,null,null,null),ra=ta.exports,aa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.card.labelIds?r("section",{staticClass:"label-cmp"},[e._l(e.cardLabels,(function(t,a){return r("div",{key:a},[t?r("button",{staticClass:"details-label",style:{backgroundColor:t.color},attrs:{"data-cmp":"add-label"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" "+e._s(t.name)+" ")]):e._e()])})),r("button",{staticClass:"add-new-label",attrs:{"data-cmp":"add-label"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}})],2):e._e()},na=[],sa={props:{card:Object},computed:{boardLabels:function(){var e=this.$store.getters.selectedBoard;return e.labels},cardLabels:function(){var e=this,t=[];return this.card.labelIds.forEach((function(r){var a=e.boardLabels.filter((function(e){return e.id===r}));t.push(a[0])})),t}},methods:{setModalType:function(e){this.$emit("setModalType",e)}}},oa=sa,ia=Object(f["a"])(oa,aa,na,!1,null,null,null),ca=ia.exports,da=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"checklist"},[r("span",{staticClass:"details-checklist-icon"}),r("div",{staticClass:"checklist-header"},[r("h4",[e._v(e._s(e.checklist.title))]),r("button",[e._v("Hide checked items")]),r("button",{on:{click:e.removeList}},[e._v("Delete")])]),r("div",{staticClass:"completion"},[r("span",{staticClass:"completion-percent"},[e._v(e._s(e.complete))]),r("div",{staticClass:"progress-bar"},[r("div",{staticClass:"bar",style:"width:"+e.complete},[r("div",{staticClass:"precentage"})])])]),r("ul",e._l(e.checklist.todos,(function(t){return r("li",{key:t.id},[r("todo-preview",{attrs:{todo:t},on:{editTodo:e.editTodo},scopedSlots:e._u([{key:"removeTodo",fn:function(){return[r("button",{on:{click:function(r){return r.stopPropagation(),e.removeTodo(t)}}})]},proxy:!0}],null,!0)})],1)})),0),e.addMode?e._e():r("button",{staticClass:"add-todo-btn",on:{click:e.openTextarea}},[e._v(" Add an item ")]),e.addMode?r("section",{staticClass:"todo-add"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.todo.title,expression:"todo.title"}],ref:"textarea",attrs:{placeholder:"Add an item"},domProps:{value:e.todo.title},on:{input:function(t){t.target.composing||e.$set(e.todo,"title",t.target.value)}}}),r("div",{staticClass:"todo-add-controls"},[r("button",{staticClass:"add-btn",on:{click:e.addTodo}},[e._v("Add")]),r("button",{on:{click:e.closeTextarea}})])]):e._e()])},la=[],ua=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e.editMode?r("div",{staticClass:"todo-edit"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currTodo.title,expression:"currTodo.title"}],ref:"textarea",domProps:{value:e.currTodo.title},on:{input:function(t){t.target.composing||e.$set(e.currTodo,"title",t.target.value)}}}),r("div",{staticClass:"todo-edit-controls"},[r("button",{on:{click:e.editTodo}},[e._v("Save")]),r("button",{on:{click:e.closeEdit}})])]):r("div",{staticClass:"todo-controls",on:{click:function(t){return e.setCurrTodo(e.todo)}}},[r("div",{staticClass:"checkmark"},[r("input",{staticClass:"todo-checkbox",attrs:{type:"checkbox"},domProps:{checked:e.todo.isDone},on:{click:function(t){return t.stopPropagation(),e.checkTodo(e.todo)}}}),r("span",[e._v(e._s(e.todo.title))])]),e._t("removeTodo")],2)])},pa=[],ma={props:{todo:Object},mounted:function(){var e=this;this.$root.$on("isEditMode",(function(){e.editMode=!1}))},destroyed:function(){this.$root.$off("isEditMode")},data:function(){return{currTodo:null,editMode:!1}},methods:{setCurrTodo:function(e){var t=this;this.$root.$emit("isEditMode"),this.currTodo=Object(tr["a"])({},e),this.editMode=!this.editMode,this.$nextTick((function(){t.$refs.textarea.focus(),t.$refs.textarea.select()}))},closeEdit:function(){this.editMode=!1},editTodo:function(){if(this.editMode=!this.editMode,this.currTodo.title){var e=this.currTodo;this.$emit("editTodo",Object(tr["a"])({},e)),this.currTodo=null}},checkTodo:function(e){e.isDone=!e.isDone,this.$emit("editTodo",e)}}},ha=ma,fa=Object(f["a"])(ha,ua,pa,!1,null,null,null),va=fa.exports,ga={props:{checklist:Object},components:{todoPreview:va},mounted:function(){var e=this;this.$root.$on("checklistTextClose",(function(){e.addMode=!1}))},destroyed:function(){this.$root.$off("checklistTextClose")},data:function(){return{todo:qe.getEmptyTodo(),addMode:!1}},methods:{openTextarea:function(){var e=this;this.$root.$emit("checklistTextClose"),this.addMode=!0,this.$nextTick((function(){e.$refs.textarea.focus(),e.$refs.textarea.select()}))},closeTextarea:function(){this.addMode=!1},addTodo:function(){this.todo.title&&(this.checklist.todos.push(Object(tr["a"])({},this.todo)),this.$emit("addTodo",this.checklist),this.todo=qe.getEmptyTodo())},editTodo:function(e){var t=this.checklist.todos.findIndex((function(t){return t.id===e.id}));this.checklist.todos.splice(t,1,e),this.$emit("addTodo",this.checklist)},removeTodo:function(e){var t=this.checklist.todos.findIndex((function(t){return t.id===e.id}));this.checklist.todos.splice(t,1),this.$emit("addTodo",this.checklist)},removeList:function(){this.$emit("removeList",this.checklist.id)}},computed:{complete:function(){var e=this.checklist.todos.length,t=this.checklist.todos.filter((function(e){return e.isDone}));return t.length?parseInt(t.length/e*100)+"%":"0%"}}},ba=ga,Ca=Object(f["a"])(ba,da,la,!1,null,null,null),ya=Ca.exports,ka=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"date"},[r("span",[r("input",{attrs:{type:"checkbox"},domProps:{checked:e.card.dueDate.isComplete},on:{click:function(t){return t.stopPropagation(),e.checkDate(e.card)}}}),r("button",{attrs:{"data-cmp":"add-date"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v(" "+e._s(e.time)+" "),e.card.dueDate.isComplete?r("span",{staticClass:"is-complete"},[e._v("COMPLETE ")]):e._e()])])])},_a=[],wa={props:{card:Object},computed:{time:function(){var e=new Date(this.card.dueDate.date);return"".concat((new Date(e).getDate()+"").padStart(2,"0"),"/").concat((new Date(e).getMonth()+1+"").padStart(2,"0"),"/").concat(new Date(e).getFullYear()+""," ").concat((new Date(e).getHours()+"").padStart(2,"0"),":").concat((new Date(e).getMinutes()+"").padStart(2,"0"))}},methods:{setModalType:function(e){this.$emit("setModalType",e)},checkDate:function(e){e.dueDate.isComplete=!e.dueDate.isComplete,this.$emit("changeComplete",e.dueDate.isComplete)}}},xa=wa,ja=Object(f["a"])(xa,ka,_a,!1,null,null,null),Ma=ja.exports,$a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.card.members?r("section",{staticClass:"member"},[e._l(e.card.members,(function(t){return r("div",{key:t.id,staticClass:"members"},[r("button",{on:{click:function(r){return e.removeMember(t)}}},[t.imgUrl?r("img",{attrs:{src:t.imgUrl}}):t.fullname?r("div",{staticClass:"to-user member-user"},[e._v(" "+e._s(t.fullname.charAt(0))+" ")]):r("div",[e._v("?")])])])})),r("button",{staticClass:"add-new-member",attrs:{"data-cmp":"add-member"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}})],2):e._e()},Oa=[],Ua={props:{card:Object},created:function(){},data:function(){return{}},methods:{removeMember:function(e){this.$emit("removeMember",e)},setModalType:function(e){this.$emit("setModalType",e)}},computed:{}},Ba=Ua,Ia=Object(f["a"])(Ba,$a,Oa,!1,null,null,null),Ta=Ia.exports,Ra=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e._l(e.card.attachments,(function(t,a){return r("div",{key:t.id,staticClass:"attachment"},[r("img",{attrs:{src:t.imgUrl}}),r("div",{staticClass:"attachment-info"},[r("h3",[e._v(e._s(t.name))]),r("div",{staticClass:"attachment-controls"},[r("p",[e._v("Added")]),r("span"),r("show-time",{attrs:{time:t.time}}),r("span",[e._v("-")]),r("a",{attrs:{href:"#"}},[e._v("Comment")]),r("span",[e._v("-")]),r("a",{attrs:{href:"#"},on:{click:function(r){return e.removeAttachment(a,t)}}},[e._v("Delete")]),r("span",[e._v("-")]),r("a",{attrs:{href:"#"}},[e._v("Edit")])],1),r("div",{staticClass:"make-cover-attachment"},[r("span"),e.isCovered(t.imgUrl)?r("a",{attrs:{href:"#"},on:{click:e.removeCover}},[e._v("Remove cover")]):r("a",{attrs:{href:"#"},on:{click:function(r){return e.setCover(t.imgUrl)}}},[e._v("Make cover")])])])])})),r("button",{staticClass:"control-btn add-attachment-btn",attrs:{"data-cmp":"add-attachment"},on:{click:function(t){return t.stopPropagation(),e.setModalType.apply(null,arguments)}}},[e._v("Add an attachment")])],2)},La=[],Pa={props:{card:Object},components:{showTime:U},data:function(){return{isRemoved:!0}},computed:{},methods:{isCovered:function(e){var t;return(null===(t=this.card.cover)||void 0===t?void 0:t.imgUrl)===e},removeAttachment:function(e,t){this.$emit("removeLink",e,t)},setCover:function(e){var t={id:le.makeId(),imgUrl:e};this.$emit("setCover",t)},removeCover:function(){this.$emit("removeCover")},setModalType:function(e){this.$emit("setModalType",e)}}},Da=Pa,Aa=Object(f["a"])(Da,Ra,La,!1,null,null,null),Ea=Aa.exports,Sa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"description"},[r("div",{staticClass:"description-header"},[r("h4",[e._v("Description")]),e.card.description?r("button",{staticClass:"control-btn",on:{click:function(t){e.isActive=!0}}},[e._v("Edit")]):e._e()]),r("div",{staticClass:"desc-txt"},[e.isTyped?e._e():r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.desc,expression:"desc"}],ref:"contentTextArea",style:e.isTyped,attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"',onfocus:'this.style.height = "";this.style.height = this.scrollHeight + "px"',spellcheck:"false",placeholder:"Add a more detailed description..."},domProps:{value:e.desc},on:{focus:function(t){e.isActive=!0},blur:e.setDesc,input:function(t){t.target.composing||(e.desc=t.target.value)}}}),e.isActive?e._e():r("pre",{on:{click:e.focusTxt}},[e._v(e._s(e.desc))])]),this.isActive?r("div",{staticClass:"description-controls"},[r("button",{on:{click:function(t){return t.stopPropagation(),e.setDesc.apply(null,arguments)}}},[e._v("Save")]),r("button",{on:{focus:function(t){e.isActive=!1}}})]):e._e()])},Na=[],Ja={props:{card:Object},data:function(){return{isActive:!1,desc:this.card.description||""}},computed:{isTyped:function(){if(""!==this.desc&&!this.isActive)return"backgroundColor:transparent"}},methods:{setDesc:function(){this.isActive=!1,this.$emit("setDesc",this.desc)},focusTxt:function(){var e=this;this.isActive=!0,this.$nextTick((function(){e.$refs.contentTextArea.focus()}))}}},Xa=Ja,Ga=Object(f["a"])(Xa,Sa,Na,!1,null,null,null),za=Ga.exports,Fa={components:{cardEditPreview:ir,addLabel:mr,addChecklist:Cr,addDate:jr,addMember:Ir,addAttachment:zr,addCover:ra,labels:ca,checklist:ya,date:Ma,member:Ta,attachment:Ea,description:za,activities:Dt,showTime:U},data:function(){return{openModalType:null,boardId:null,searchBy:"",searchType:"",isEditCard:null,isUpdated:!1}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$route.params,a=r.cardId,n=r.groupId,s=r.boardId,o=r.isEditCard,e.isEditCard="true"===o,e.boardId=s,t.next=6,e.$store.dispatch({type:"loadCard",boardId:s,groupId:n,cardId:a});case 6:t.sent,window.document.title="Yuulo - ".concat(e.card.title),ce.emit("card topic",a),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},destroyed:function(){this.$store.commit("removeCurrent"),document.title="Yuulo"},computed:{selectedBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard))},card:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedCard))},group:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedGroup))},loggedinUser:function(){return this.$store.getters.loggedinUser},isAttachments:function(){return!(!this.card.attachments||!this.card.attachments.length)},isItEditCard:function(){return this.isEditCard&&this.card},isLabels:function(){return!(!this.card.labelIds||!this.card.labelIds.length)},isCover:function(){if(!this.card.cover||!this.card.cover)return"transparent"},isMembers:function(){return!(!this.card.members||!this.card.members.length)},isMemberIn:function(){var e=this;if(this.card.members||(this.card.members=[]),!this.card.members.some((function(t){t.id,e.loggedinUser.id})))return!this.card.members.some((function(t){return t.id===e.loggedinUser.id}))},labelsToShow:function(){return this.labelToShow()},usersToShow:function(){return this.userToShow()},users:function(){return this.$store.getters.users},showTime:function(){var e=this.act.at,t=Date.now(),r=t-e;return console.log(r),r<6e4?" Just now":r<36e5?new Date(r).getMinutes()+" Minutes ago":r>36e5&&r<864e5?new Date(r).getHours()+" Hours ago":"A while ago"},position:function(){var e=this.$store.getters.position;return console.log(e,"cardDetails"),"top: ".concat(e.posY-1,"px; left: ").concat(e.posX-229,"px")}},methods:{saveTitle:function(e){var t=this;if(!this.isUpdated){console.log(e);var r=this.card;r.title=this.$refs.title.value,this.updateCard(),setTimeout((function(){return t.isUpdated=!1}),100),this.isUpdated=!0,this.$refs.title.blur()}},editCard:function(){this.isEditCard=!0},emitToUsers:function(e){var t,r=this;null!==(t=this.card)&&void 0!==t&&t.members.length&&this.card.members.forEach((function(t){var a={fullActivity:e,userId:t._id};r.loggedinUser._id!==t._id&&(r.$store.dispatch({type:"updateUserNotifications",data:a}),ce.emit("notifyMember",a))}))},stop:function(){},updateCard:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"updateCard",board:e.selectedBoard,group:e.group,card:e.card});case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t["catch"](0),console.log("cannot update card",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setComment:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={byMember:t.loggedinUser,creatAt:Date.now(),id:le.makeId(),card:{id:t.card.id,title:t.card.title},txt:e},t.card.comments||(t.card.comments=[]),t.card.comments.push(a),r.next=5,t.updateCard();case 5:case"end":return r.stop()}}),r)})))()},setActivity:function(e,t){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n,s,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=r.loggedinUser,s=n._id,o=n.fullname,i=n.imgUrl,c={byMember:{_id:s,fullname:o,imgUrl:i},creatAt:Date.now(),id:le.makeId(),card:{id:r.card.id,title:r.card.title},txt:e,isRead:!1},r.setComment(t),a.next=5,r.$store.dispatch({type:"updateActivities",activity:c});case 5:r.emitToUsers(c);case 6:case"end":return a.stop()}}),a)})))()},setDesc:function(e){this.card.description=e,this.updateCard()},setCover:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.card.cover={},t.card.cover=e,r.next=4,t.setActivity("Added Cover to ".concat(t.card.title));case 4:t.updateCard();case 5:case"end":return r.stop()}}),r)})))()},removeCover:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.card.cover=null,t.next=3,e.setActivity("Removed Cover from ".concat(e.card.title));case 3:e.updateCard();case 4:case"end":return t.stop()}}),t)})))()},setLabel:function(e){console.log(this.loggedinUser),this.card.labelIds||(this.card.labelIds=[]),this.card.labelIds.some((function(t){return t===e}))?this.removeLabel(e):null!==e&&(this.card.labelIds.push(e),this.updateCard())},removeLabel:function(e){var t=this.card.labelIds.findIndex((function(t){return t===e}));this.card.labelIds.splice(t,1),this.updateCard()},createLabel:function(e){var t=arguments,r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:"add",a.next=3,r.$store.dispatch({type:"updateLabel",boardId:r.boardId,pickedLabel:Object(tr["a"])({},e),action:n});case 3:"add"===n&&r.setLabel(e.id);case 4:case"end":return a.stop()}}),a)})))()},changeComplete:function(e){this.card.dueDate.isComplete=e,this.updateCard()},addDate:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.card.dueDate||(t.card.dueDate={}),t.card.dueDate.date=e,t.card.dueDate.isComplete||(t.card.dueDate.isComplete=!1),r.next=5,t.setActivity("Added Date from ".concat(t.card.title));case 5:t.updateCard();case 6:case"end":return r.stop()}}),r)})))()},removeDate:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.card.dueDate=null,t.next=3,e.setActivity("Remove Date from ".concat(e.card.title));case 3:e.updateCard();case 4:case"end":return t.stop()}}),t)})))()},linkAdded:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={name:"Image",imgUrl:e,comment:"",time:Date.now()},t.card.attachments||(t.card.attachments=[]),t.card.attachments.push(a),r.next=5,t.setActivity("Add attach ".concat(a.name," to ").concat(t.card.title));case 5:t.updateCard();case 6:case"end":return r.stop()}}),r)})))()},removeLink:function(e,t){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r.card.attachments.splice(e,1),a.next=3,r.setActivity("Removed attach ".concat(t.name," from ").concat(r.card.title));case 3:r.updateCard();case 4:case"end":return a.stop()}}),a)})))()},joinMember:function(){var e=this;this.card.members||(this.card.members=[]),this.card.members.some((function(t){return t._id===e.loggedinUser.id}))||this.addMember(this.loggedinUser)},addMember:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.card.members||(t.card.members=[]),!t.card.members.some((function(t){return t._id===e._id}))){r.next=4;break}return t.removeMember(e),r.abrupt("return");case 4:if(t.selectedBoard.members.some((function(t){return t._id===e._id}))){r.next=6;break}return r.abrupt("return");case 6:return t.card.members.push(e),r.next=9,t.setActivity("Added ".concat(e.fullname," to ").concat(t.card.title));case 9:return r.next=11,t.updateCard();case 11:case"end":return r.stop()}}),r)})))()},removeMember:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.card.members.findIndex((function(t){return t._id===e._id})),t.card.members.splice(a,1),r.next=4,t.setActivity("Removed ".concat(e.fullname," from ").concat(t.card.title));case 4:return r.next=6,t.updateCard();case 6:case"end":return r.stop()}}),r)})))()},addTodo:function(e){var t=this.card.checklists.findIndex((function(t){return t.id===e.id}));this.card.checklists.splice(t,1,e),this.updateCard()},addList:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.card.checklists||(t.card.checklists=[]),a=qe.getEmptyList(),a.title=e,t.card.checklists.push(a),r.next=6,t.setActivity("Added Checklist to ".concat(t.card.title));case 6:t.updateCard();case 7:case"end":return r.stop()}}),r)})))()},removeList:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.card.checklists.findIndex((function(t){return t._id===e})),t.card.checklists.splice(a,1),r.next=4,t.setActivity("Remove Checklist from ".concat(t.card.title));case 4:t.updateCard();case 5:case"end":return r.stop()}}),r)})))()},closeModal:function(){this.openModalType&&(this.openModalType=null)},setModalType:function(e){var t=e.target.dataset.cmp;this.openModalType=t},closeCard:function(){this.$router.push("/board/".concat(this.selectedBoard._id))},setSearch:function(e){this.searchBy=e.searchBy,this.searchType=e.type},labelToShow:function(){if(!this.searchBy)return this.selectedBoard.labels;if("label"!==this.searchType)return this.selectedBoard.labels;if(this.searchBy){var e=this.searchBy.toLowerCase(),t=this.selectedBoard.labels.filter((function(t){var r;return null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(e)}));return t}},userToShow:function(){if(!this.searchBy)return this.users;if("user"!==this.searchType)return this.users;if(this.searchBy){var e=this.searchBy.toLowerCase(),t=this.users.filter((function(t){var r;return null===(r=t.fullname)||void 0===r?void 0:r.toLowerCase().includes(e)}));return t}}}},Ya=Fa,Ha=Object(f["a"])(Ya,Vt,er,!1,null,null,null),Za=Ha.exports,Wa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"dashboard",on:{click:e.closeDashboard}},[r("button",{staticClass:"close-dashboard"}),r("h1",[e._v("Dashboard")]),r("div",{staticClass:"charts-container"},[r("chart-bar",{staticClass:"bar-chart"}),r("chart-doughnut",{staticClass:"doughnut-chart"})],1)])},qa=[],Ka=r("1fca"),Qa={extends:Ka["a"],mounted:function(){this.renderChart({labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"GitHub Commits",backgroundColor:"#f87979",data:[40,20,12,39,10,40,39,80,40,20,12,11]}]})}},Va=Qa,en=Object(f["a"])(Va,mt,ht,!1,null,null,null),tn=en.exports,rn={extends:Ka["b"],mounted:function(){this.renderChart({labels:["Red","Blue","Yellow"],datasets:[{label:"My First Dataset",data:[300,50,100],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],hoverOffset:4}]})}},an=rn,nn=Object(f["a"])(an,ft,vt,!1,null,null,null),sn=nn.exports,on={data:function(){return{}},components:{chartBar:tn,chartDoughnut:sn},computed:{selectedBoard:function(){return JSON.parse(JSON.stringify(this.$store.getters.selectedBoard))}},methods:{closeDashboard:function(){this.$router.push("/board/".concat(this.selectedBoard._id))}}},cn=on,dn=Object(f["a"])(cn,Wa,qa,!1,null,null,null),ln=dn.exports;a["default"].use(H["a"]);var un,pn=[{path:"/",name:"home",component:He},{path:"/board/:boardId/",name:"board",component:Qt,children:[{path:"dashboard",component:ln},{path:":groupId/:cardId/:isEditCard",component:Za}]}],mn=new H["a"]({mode:"history",base:"/",routes:pn}),hn=mn,fn=r("2f62"),vn={state:{boards:null,selectedBoard:null,selectedGroup:null,selectedCard:null,card:null,textareaOpen:!1,position:{posY:136.96180725097656,posX:242.01390075683594}},getters:{boards:function(e){return e.boards},selectedBoard:function(e){return e.selectedBoard},selectedGroup:function(e){return e.selectedGroup},selectedCard:function(e){return e.selectedCard},isTextareaOpen:function(e){return e.textareaOpen},position:function(e){return e.position}},mutations:{setBoards:function(e,t){var r=t.boards;e.boards=r},setBoard:function(e,t){var r=t.board;e.selectedBoard=r},setGroup:function(e,t){var r=t.group;e.selectedGroup=r},setCard:function(e,t){var r=t.card;e.selectedCard=r},removeGroup:function(e,t){var r=t.groupId;e.selectedBoard.groups=e.selectedBoard.groups.filter((function(e){return e.id!==r}))},addGroup:function(e,t){var r=t.group;e.selectedBoard.groups.push(r)},removeCard:function(e,t){var r=t.group,a=t.cardId,n=e.selectedBoard.groups.findIndex((function(e){return e.id===r.id}));e.selectedBoard.groups[n].cards=e.selectedBoard.groups[n].cards.filter((function(e){return e.id!==a}))},addCard:function(e,t){var r=t.groupId,a=t.card,n=e.selectedBoard.groups.findIndex((function(e){return e.id===r}));e.selectedBoard.groups[n].cards||(e.selectedBoard.groups[n].cards=[]),e.selectedBoard.groups[n].cards.push(a)},updateCard:function(e,t){var r=t.groupCopy,a=t.cardCopy,n=r.cards.findIndex((function(e){return a.id===e.id}));r.cards.splice(n,1,a);var s=e.selectedBoard.groups.findIndex((function(e){return e.id===r.id}));e.selectedBoard.groups.splice(s,1,r)},setTextarea:function(e){e.textareaOpen=!e.textareaOpen},removeCurrent:function(e){e.selectedCard=null,e.selectedGroup=null},clearBaord:function(e){e.selectedBoard=null},setPosition:function(e,t){var r=t.position;console.log("store",r),e.position=r}},actions:{loadBoards:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qe.query();case 3:r=t.sent,e.commit({type:"setBoards",boards:r}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("Cannot load boards",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},removeBoards:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.boardId,r.prev=1,r.next=4,qe.remove(a);case 4:n=r.sent,console.log("remove"),e.commit({type:"setBoards",boards:n}),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log("Cannot load board",r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},addBoard:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.board,e.prev=1,e.next=4,qe.saveBoard(r);case 4:return a=e.sent,e.abrupt("return",a);case 8:e.prev=8,e.t0=e["catch"](1),console.log("Cannot load board",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},loadCard:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.cardId,n=t.groupId,s=t.boardId,r.prev=1,r.next=4,qe.getCardById(a,n,s);case 4:return o=r.sent,i=o.card,c=o.group,e.commit({type:"setCard",card:i}),e.commit({type:"setGroup",group:c}),ce.off("updateCard"),ce.on("updateCard",(function(t){e.commit({type:"setCard",card:t})})),r.abrupt("return",i);case 14:r.prev=14,r.t0=r["catch"](1),console.log("Cannot load board",r.t0);case 17:case"end":return r.stop()}}),r,null,[[1,14]])})))()},loadBoard:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.boardId,r.prev=1,r.next=4,qe.getById(a);case 4:return n=r.sent,e.commit({type:"removeCurrent"}),e.commit({type:"setBoard",board:n}),ce.off("updateBoard"),ce.on("updateBoard",(function(t){e.commit({type:"setBoard",board:t})})),ce.off("addGroup"),ce.on("addGroup",(function(t){e.commit({type:"addGroup",group:t})})),ce.off("removeGroup"),ce.on("removeGroup",(function(t){e.commit({type:"removeGroup",groupId:t})})),ce.off("removeCard"),ce.on("removeCard",(function(t){var r=t.group,a=t.cardId;e.commit({type:"removeCard",group:r,cardId:a})})),ce.off("addCard"),ce.on("addCard",(function(t){var r=t.groupId,a=t.card;e.commit({type:"addCard",groupId:r,card:a})})),r.abrupt("return",n);case 20:r.prev=20,r.t0=r["catch"](1),console.log("Cannot load board",r.t0);case 23:case"end":return r.stop()}}),r,null,[[1,20]])})))()},updateBoard:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.board,r.prev=1,r.next=4,qe.saveBoard(a);case 4:return n=r.sent,e.commit({type:"setBoard",board:n}),ce.emit("boardUpdated",n),r.abrupt("return",a);case 10:r.prev=10,r.t0=r["catch"](1),console.log("cannot update board",r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},updateActivities:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.activity,r.prev=1,n=JSON.parse(JSON.stringify(e.getters.selectedBoard)),n.activities||(n.activities=[]),n.activities.unshift(a),r.next=7,qe.saveBoard(n);case 7:return e.commit({type:"setBoard",board:n}),s=n,ce.emit("boardUpdated",s),r.abrupt("return",n);case 13:r.prev=13,r.t0=r["catch"](1),console.log("cannot update board",r.t0);case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))()},addMember:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.member,r.prev=1,n=JSON.parse(JSON.stringify(e.getters.selectedBoard)),n.members||(n.members=[]),!n.members.some((function(e){return e._id===a._id}))){r.next=6;break}return r.abrupt("return");case 6:return console.log(e),n.members.unshift(a),r.next=10,qe.saveBoard(n);case 10:return e.commit({type:"setBoard",board:n}),s=n,ce.emit("boardUpdated",s),r.abrupt("return",n);case 16:r.prev=16,r.t0=r["catch"](1),console.log("cannot update board",r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})))()},updateLabel:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.boardId,a=t.pickedLabel,n=t.action,r.prev=1,s=JSON.parse(JSON.stringify(e.getters.selectedBoard)),r.next=5,qe.updateLabel(s,n,a);case 5:return o=r.sent,e.commit({type:"setBoard",board:s}),ce.emit("boardUpdated",o),r.abrupt("return",returnedBoard);case 11:r.prev=11,r.t0=r["catch"](1),console.log("Cannot load board",r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},removeGroup:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.groupId,r.prev=1,n=JSON.parse(JSON.stringify(e.getters.selectedBoard)),r.next=5,qe.removeGroup(n,a);case 5:e.commit({type:"removeGroup",groupId:a}),ce.emit("groupRemoved",a),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log("Cannot delete group",r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},addGroup:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.group,r.prev=1,n=JSON.parse(JSON.stringify(e.getters.selectedBoard)),r.next=5,qe.addGroup(n,a);case 5:r.sent,e.commit({type:"addGroup",group:a}),ce.emit("groupAdded",a),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](1),console.log("Cannot add group",r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},updateGroup:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.board,n=t.group,r.prev=1,r.next=4,qe.updateGroup(a,n);case 4:s=r.sent,e.commit({type:"setBoard",board:s}),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log("cannot update group",r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},removeCard:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.board,n=t.group,s=t.cardId,r.prev=1,r.next=4,qe.removeCard(a,n,s);case 4:e.commit({type:"removeCard",group:n,cardId:s}),o={group:n,cardId:s},ce.emit("cardRemoved",o),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log("Cant remove card",r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},addCard:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.board,n=t.groupId,s=t.card,r.prev=1,r.next=4,qe.addCard(a,n,s);case 4:e.commit({type:"addCard",groupId:n,card:s}),o={groupId:n,card:s},ce.emit("cardAdded",o),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log("Cant add card",r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},updateCard:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.group,n=t.card,r.prev=1,s=JSON.parse(JSON.stringify(e.getters.selectedBoard)),o=JSON.parse(JSON.stringify(a)),i=JSON.parse(JSON.stringify(n)),r.next=7,qe.updateCard(s,a,n.id,n);case 7:return c=r.sent,e.commit({type:"updateCard",groupCopy:o,cardCopy:i}),e.commit({type:"setCard",card:i}),ce.emit("cardUpdated",i),ce.emit("boardUpdated",c),r.abrupt("return",c);case 15:r.prev=15,r.t0=r["catch"](1),console.log("Cant add card",r.t0);case 18:case"end":return r.stop()}}),r,null,[[1,15]])})))()}}},gn=r("ade3"),bn={state:{loggedinUser:he.getLoggedinUser(),users:[],watchedUser:null},getters:{users:function(e){return e.users},loggedinUser:function(e){var t=e.loggedinUser;return t},watchedUser:function(e){var t=e.watchedUser;return t},user:function(e){var t=e.user;return t}},mutations:(un={setLoggedinUser:function(e,t){var r=t.user;e.loggedinUser=r}},Object(gn["a"])(un,"setLoggedinUser",(function(e,t){var r=t.user;e.loggedinUser=r})),Object(gn["a"])(un,"setWatchedUser",(function(e,t){var r=t.user;e.watchedUser=r})),Object(gn["a"])(un,"setUsers",(function(e,t){var r=t.users;e.users=r})),Object(gn["a"])(un,"removeUser",(function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))})),Object(gn["a"])(un,"setNotification",(function(e,t){var r=t.activity;e.loggedinUser.notifications.unshift(r)})),un),actions:{login:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.userCred,r.prev=2,r.next=5,he.login(n);case 5:return s=r.sent,a({type:"setLoggedinUser",user:s}),r.abrupt("return",s);case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("userStore: Error in login",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},signup:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.userCred,r.prev=2,r.next=5,he.signup(n);case 5:return s=r.sent,a({type:"setLoggedinUser",user:s}),r.abrupt("return",s);case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("userStore: Error in signup",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},logout:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,he.logout();case 4:r({type:"setLoggedinUser",user:null}),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("userStore: Error in logout",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},loadUsers:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,he.getUsers();case 4:a=t.sent,r({type:"setUsers",users:a}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](1),console.log("userStore: Error in loadUsers",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},loadUserCardWatch:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.userId,r.prev=2,r.next=5,he.getById(n);case 5:r.sent,socketService.emit("user-watch",n),socketService.off("notifyMemberActivity"),socketService.on("notifyMemberActivity",(function(e){a({type:"setNotification",activity:e})})),r.next=15;break;case 11:throw r.prev=11,r.t0=r["catch"](2),console.log("userStore: Error in loadAndWatchUser",r.t0),r.t0;case 15:case"end":return r.stop()}}),r,null,[[2,11]])})))()},removeUser:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.userId,r.prev=2,r.next=5,he.remove(n);case 5:a({type:"removeUser",userId:n}),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](2),console.log("userStore: Error in removeUser",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()},updateUser:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.commit,t.user,r.prev=2,r.next=5,he.update(a);case 5:a=r.sent,r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](2),console.log("userStore: Error in updateUser",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()},updateUserNotifications:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.commit,a=t.data,r.prev=2,r.next=5,he.updateUserNotifications(a);case 5:r.next=11;break;case 7:throw r.prev=7,r.t0=r["catch"](2),console.log("userStore: Error in updateUser",r.t0),r.t0;case 11:case"end":return r.stop()}}),r,null,[[2,7]])})))()},clearNotifications:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.userId,r.prev=2,r.next=5,he.clearNotifications(n);case 5:s=r.sent,console.log("user",s),a({type:"setLoggedinUser",user:s}),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](2),console.log("cannot clear notifications");case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()},markRead:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.userId,r.prev=2,r.next=5,he.markRead(n);case 5:s=r.sent,console.log("user",s),a({type:"setLoggedinUser",user:s}),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](2),console.log("cannot clear notifications");case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()}}};a["default"].use(fn["a"]);var Cn=new fn["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{boardStore:vn,userStore:bn}});r("3c61");a["default"].use(G.a,{locale:F.a}),a["default"].config.productionTip=!1,new a["default"]({router:hn,store:Cn,render:function(e){return e(J)}}).$mount("#app")},cc8d:function(e,t,r){e.exports=r.p+"img/yuumi-head3.ae1e0d92.png"},d36c:function(e,t,r){"use strict";r("2917")}});
//# sourceMappingURL=app.1bbd1b62.js.map